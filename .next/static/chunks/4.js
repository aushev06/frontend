(window["webpackJsonp_N_E"] = window["webpackJsonp_N_E"] || []).push([[4],{

/***/ "./node_modules/@editorjs/image/dist/bundle.js":
/*!*****************************************************!*\
  !*** ./node_modules/@editorjs/image/dist/bundle.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(t,e){ true?module.exports=e():undefined}(window,(function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=25)}([function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}t.exports=function(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){window,t.exports=function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";(function(t){var o=n(2),r=setTimeout;function i(){}function a(t){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(t,this)}function u(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,a._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var o;try{o=n(t._value)}catch(t){return void s(e.promise,t)}c(e.promise,o)}else(1===t._state?c:s)(e.promise,t._value)}))):t._deferreds.push(e)}function c(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof a)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void d((o=n,r=e,function(){o.apply(r,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(e){s(t,e)}var o,r}function s(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&a._immediateFn((function(){t._handled||a._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)u(t,t._deferreds[e]);t._deferreds=null}function f(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function d(t,e){var n=!1;try{t((function(t){n||(n=!0,c(e,t))}),(function(t){n||(n=!0,s(e,t))}))}catch(t){if(n)return;n=!0,s(e,t)}}a.prototype.catch=function(t){return this.then(null,t)},a.prototype.then=function(t,e){var n=new this.constructor(i);return u(this,new f(t,e,n)),n},a.prototype.finally=o.a,a.all=function(t){return new a((function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var o=Array.prototype.slice.call(t);if(0===o.length)return e([]);var r=o.length;function i(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(e){i(t,e)}),n)}o[t]=a,0==--r&&e(o)}catch(t){n(t)}}for(var a=0;a<o.length;a++)i(a,o[a])}))},a.resolve=function(t){return t&&"object"==typeof t&&t.constructor===a?t:new a((function(e){e(t)}))},a.reject=function(t){return new a((function(e,n){n(t)}))},a.race=function(t){return new a((function(e,n){for(var o=0,r=t.length;o<r;o++)t[o].then(e,n)}))},a._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){r(t,0)},a._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},e.a=a}).call(this,n(5).setImmediate)},function(t,e,n){"use strict";e.a=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}},function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n(4);var r,i,a,u,c,s,l,f=n(8),d=(i=function(t){return new Promise((function(e,n){t=u(t),(t=c(t)).beforeSend&&t.beforeSend();var o=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");o.open(t.method,t.url),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(t.headers).forEach((function(e){var n=t.headers[e];o.setRequestHeader(e,n)}));var r=t.ratio;o.upload.addEventListener("progress",(function(e){var n=Math.round(e.loaded/e.total*100),o=Math.ceil(n*r/100);t.progress(Math.min(o,100))}),!1),o.addEventListener("progress",(function(e){var n=Math.round(e.loaded/e.total*100),o=Math.ceil(n*(100-r)/100)+r;t.progress(Math.min(o,100))}),!1),o.onreadystatechange=function(){if(4===o.readyState){var t=o.response;try{t=JSON.parse(t)}catch(t){}var r=f.parseHeaders(o.getAllResponseHeaders()),i={body:t,code:o.status,headers:r};l(o.status)?e(i):n(i)}},o.send(t.data)}))},a=function(t){return t.method="POST",i(t)},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.url&&"string"!=typeof t.url)throw new Error("Url must be a string");if(t.url=t.url||"",t.method&&"string"!=typeof t.method)throw new Error("`method` must be a string or null");if(t.method=t.method?t.method.toUpperCase():"GET",t.headers&&"object"!==o(t.headers))throw new Error("`headers` must be an object or null");if(t.headers=t.headers||{},t.type&&("string"!=typeof t.type||!Object.values(r).includes(t.type)))throw new Error("`type` must be taken from module's «contentType» library");if(t.progress&&"function"!=typeof t.progress)throw new Error("`progress` must be a function or null");if(t.progress=t.progress||function(t){},t.beforeSend=t.beforeSend||function(t){},t.ratio&&"number"!=typeof t.ratio)throw new Error("`ratio` must be a number");if(t.ratio<0||t.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(t.ratio=t.ratio||90,t.accept&&"string"!=typeof t.accept)throw new Error("`accept` must be a string with a list of allowed mime-types");if(t.accept=t.accept||"*/*",t.multiple&&"boolean"!=typeof t.multiple)throw new Error("`multiple` must be a true or false");if(t.multiple=t.multiple||!1,t.fieldName&&"string"!=typeof t.fieldName)throw new Error("`fieldName` must be a string");return t.fieldName=t.fieldName||"files",t},c=function(t){switch(t.method){case"GET":var e=s(t.data,r.URLENCODED);delete t.data,t.url=/\?/.test(t.url)?t.url+"&"+e:t.url+"?"+e;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var n=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).type||r.JSON}(t);(f.isFormData(t.data)||f.isFormElement(t.data))&&(n=r.FORM),t.data=s(t.data,n),n!==d.contentType.FORM&&(t.headers["content-type"]=n)}return t},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case r.URLENCODED:return f.urlEncode(t);case r.JSON:return f.jsonEncode(t);case r.FORM:return f.formEncode(t);default:return t}},l=function(t){return t>=200&&t<300},{contentType:r={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:i,get:function(t){return t.method="GET",i(t)},post:a,transport:function(t){return t=u(t),f.selectFiles(t).then((function(e){for(var n=new FormData,o=0;o<e.length;o++)n.append(t.fieldName,e[o],e[o].name);f.isObject(t.data)&&Object.keys(t.data).forEach((function(e){var o=t.data[e];n.append(e,o)}));var r=t.beforeSend;return t.beforeSend=function(){return r(e)},t.data=n,a(t)}))},selectFiles:function(t){return delete(t=u(t)).beforeSend,f.selectFiles(t)}});t.exports=d},function(t,e,n){"use strict";n.r(e);var o=n(1);window.Promise=window.Promise||o.a},function(t,e,n){(function(t){var o=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(r.call(setTimeout,o,arguments),clearTimeout)},e.setInterval=function(){return new i(r.call(setInterval,o,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(o,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(6),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var o,r,i,a,u,c=1,s={},l=!1,f=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?o=function(t){e.nextTick((function(){h(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?(a="setImmediate$"+Math.random()+"$",u=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&h(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",u,!1):t.attachEvent("onmessage",u),o=function(e){t.postMessage(a+e,"*")}):t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){h(t.data)},o=function(t){i.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(r=f.documentElement,o=function(t){var e=f.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):o=function(t){setTimeout(h,0,t)},d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return s[c]=r,o(c),c++},d.clearImmediate=p}function p(t){delete s[t]}function h(t){if(l)setTimeout(h,0,t);else{var e=s[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(0),n(7))},function(t,e){var n,o,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}}();var c,s=[],l=!1,f=-1;function d(){l&&c&&(l=!1,c.length?s=c.concat(s):f=-1,s.length&&p())}function p(){if(!l){var t=u(d);l=!0;for(var e=s.length;e;){for(c=s,s=[];++f<e;)c&&c[f].run();f=-1,e=s.length}c=null,l=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new h(t,e)),1!==s.length||l||u(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r=n(9);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"urlEncode",value:function(t){return r(t)}},{key:"jsonEncode",value:function(t){return JSON.stringify(t)}},{key:"formEncode",value:function(t){if(this.isFormData(t))return t;if(this.isFormElement(t))return new FormData(t);if(this.isObject(t)){var e=new FormData;return Object.keys(t).forEach((function(n){var o=t[n];e.append(n,o)})),e}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(t){return"[object Object]"===Object.prototype.toString.call(t)}},{key:"isFormData",value:function(t){return t instanceof FormData}},{key:"isFormElement",value:function(t){return t instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(e,n){var o=document.createElement("INPUT");o.type="file",t.multiple&&o.setAttribute("multiple","multiple"),t.accept&&o.setAttribute("accept",t.accept),o.style.display="none",document.body.appendChild(o),o.addEventListener("change",(function(t){var n=t.target.files;e(n),document.body.removeChild(o)}),!1),o.click()}))}},{key:"parseHeaders",value:function(t){var e=t.trim().split(/[\r\n]+/),n={};return e.forEach((function(t){var e=t.split(": "),o=e.shift(),r=e.join(": ");o&&(n[o]=r)})),n}}])&&o(e,n),t}()},function(t,e){var n=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},o=function(t,e,r,i){return e=e||null,r=r||"&",i=i||null,t?function(t){for(var e=new Array,n=0;n<t.length;n++)t[n]&&e.push(t[n]);return e}(Object.keys(t).map((function(a){var u,c,s=a;if(i&&(s=i+"["+s+"]"),"object"==typeof t[a]&&null!==t[a])u=o(t[a],null,r,s);else{e&&(c=s,s=!isNaN(parseFloat(c))&&isFinite(c)?e+Number(s):s);var l=t[a];l=(l=0===(l=!1===(l=!0===l?"1":l)?"0":l)?"0":l)||"",u=n(s)+"="+n(l)}return u}))).join(r).replace(/[!'()*]/g,""):""};t.exports=o}])},function(t,e,n){t.exports=n(14)},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}},function(t,e,n){var o=n(4);t.exports=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}},function(t,e){function n(t,e,n,o,r,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(o,r)}t.exports=function(t){return function(){var e=this,o=arguments;return new Promise((function(r,i){var a=t.apply(e,o);function u(t){n(a,r,i,u,c,"next",t)}function c(t){n(a,r,i,u,c,"throw",t)}u(void 0)}))}}},function(t,e,n){var o=n(19),r=n(20),i=n(5),a=n(21);t.exports=function(t){return o(t)||r(t)||i(t)||a()}},function(t,e){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.15 13.628A7.749 7.749 0 0 0 10 17.75a7.74 7.74 0 0 0 6.305-3.242l-2.387-2.127-2.765 2.244-4.389-4.496-3.614 3.5zm-.787-2.303l4.446-4.371 4.52 4.63 2.534-2.057 3.533 2.797c.23-.734.354-1.514.354-2.324a7.75 7.75 0 1 0-15.387 1.325zM10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10z"></path></svg>'},function(t,e){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.043 8.265l3.183-3.183h-2.924L4.75 10.636v2.923l4.15-4.15v2.351l-2.158 2.159H8.9v2.137H4.7c-1.215 0-2.2-.936-2.2-2.09v-8.93c0-1.154.985-2.09 2.2-2.09h10.663l.033-.033.034.034c1.178.04 2.12.96 2.12 2.089v3.23H15.3V5.359l-2.906 2.906h-2.35zM7.951 5.082H4.75v3.201l3.201-3.2zm5.099 7.078v3.04h4.15v-3.04h-4.15zm-1.1-2.137h6.35c.635 0 1.15.489 1.15 1.092v5.13c0 .603-.515 1.092-1.15 1.092h-6.35c-.635 0-1.15-.489-1.15-1.092v-5.13c0-.603.515-1.092 1.15-1.092z"></path></svg>'},function(t,e){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.8 10.592v2.043h2.35v2.138H15.8v2.232h-2.25v-2.232h-2.4v-2.138h2.4v-2.28h2.25v.237h1.15-1.15zM1.9 8.455v-3.42c0-1.154.985-2.09 2.2-2.09h4.2v2.137H4.15v3.373H1.9zm0 2.137h2.25v3.325H8.3v2.138H4.1c-1.215 0-2.2-.936-2.2-2.09v-3.373zm15.05-2.137H14.7V5.082h-4.15V2.945h4.2c1.215 0 2.2.936 2.2 2.09v3.42z"></path></svg>'},function(t,e){t.exports='<svg width="17" height="10" viewBox="0 0 17 10" xmlns="http://www.w3.org/2000/svg"><path d="M13.568 5.925H4.056l1.703 1.703a1.125 1.125 0 0 1-1.59 1.591L.962 6.014A1.069 1.069 0 0 1 .588 4.26L4.38.469a1.069 1.069 0 0 1 1.512 1.511L4.084 3.787h9.606l-1.85-1.85a1.069 1.069 0 1 1 1.512-1.51l3.792 3.791a1.069 1.069 0 0 1-.475 1.788L13.514 9.16a1.125 1.125 0 0 1-1.59-1.591l1.644-1.644z"></path></svg>'},function(t,e){t.exports='<svg width="17" height="15" viewBox="0 0 336 276" xmlns="http://www.w3.org/2000/svg"><path d="M291 150.242V79c0-18.778-15.222-34-34-34H79c-18.778 0-34 15.222-34 34v42.264l67.179-44.192 80.398 71.614 56.686-29.14L291 150.242zm-.345 51.622l-42.3-30.246-56.3 29.884-80.773-66.925L45 174.187V197c0 18.778 15.222 34 34 34h178c17.126 0 31.295-12.663 33.655-29.136zM79 0h178c43.63 0 79 35.37 79 79v118c0 43.63-35.37 79-79 79H79c-43.63 0-79-35.37-79-79V79C0 35.37 35.37 0 79 0z"></path></svg>'},function(t,e,n){var o=n(22),r=n(23),i=n(5),a=n(24);t.exports=function(t,e){return o(t)||r(t,e)||i(t,e)||a()}},function(t,e,n){var o=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function u(t,e,n,o){var r=e&&e.prototype instanceof l?e:l,i=Object.create(r.prototype),a=new x(o||[]);return i._invoke=function(t,e,n){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return S()}for(n.method=r,n.arg=i;;){var a=n.delegate;if(a){var u=b(a,n);if(u){if(u===s)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=c(t,e,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var s={};function l(){}function f(){}function d(){}var p={};p[r]=function(){return this};var h=Object.getPrototypeOf,m=h&&h(h(E([])));m&&m!==e&&n.call(m,r)&&(p=m);var g=d.prototype=l.prototype=Object.create(p);function v(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function y(t,e){var o;this._invoke=function(r,i){function a(){return new e((function(o,a){!function o(r,i,a,u){var s=c(t[r],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,u)}))}u(s.arg)}(r,i,o,a)}))}return o=o?o.then(a,a):a()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var o=c(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,s;var r=o.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function E(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=g.constructor=d,d.constructor=f,d[a]=f.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},v(y.prototype),y.prototype[i]=function(){return this},t.AsyncIterator=y,t.async=function(e,n,o,r,i){void 0===i&&(i=Promise);var a=new y(u(e,n,o,r),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(g),g[a]="Generator",g[r]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var o=e.pop();if(o in t)return n.value=o,n.done=!1,n}return n.done=!0,n}},t.values=E,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return a.type="throw",a.arg=t,e.next=n,o&&(e.method="next",e.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var r=o.arg;_(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},t}(t.exports);try{regeneratorRuntime=o}catch(t){Function("r","regeneratorRuntime = r")(o)}},function(t,e,n){var o=n(16),r=n(17);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1},a=(o(r,i),r.locals?r.locals:{});t.exports=a},function(t,e,n){"use strict";var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function u(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},o=[],r=0;r<t.length;r++){var i=t[r],c=e.base?i[0]+e.base:i[0],s=n[c]||0,l="".concat(c," ").concat(s);n[c]=s+1;var f=u(l),d={css:i[1],media:i[2],sourceMap:i[3]};-1!==f?(a[f].references++,a[f].updater(d)):a.push({identifier:l,updater:g(d,e),references:1}),o.push(l)}return o}function s(t){var e=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(t){e.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,f=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function d(t,e,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=f(e,r);else{var i=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function p(t,e,n){var o=n.css,r=n.media,i=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),i&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var h=null,m=0;function g(t,e){var n,o,r;if(e.singleton){var i=m++;n=h||(h=s(e)),o=d.bind(null,n,i,!1),r=d.bind(null,n,i,!0)}else n=s(e),o=p.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var o=0;o<n.length;o++){var r=u(n[o]);a[r].references--}for(var i=c(t,e),s=0;s<n.length;s++){var l=u(n[s]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=i}}}},function(t,e,n){(e=n(18)(!1)).push([t.i,'.image-tool {\n  --bg-color: #cdd1e0;\n  --front-color: #388ae5;\n  --border-color: #e8e8eb;\n}\n\n  .image-tool__image {\n    border-radius: 3px;\n    overflow: hidden;\n    margin-bottom: 10px;\n  }\n\n  .image-tool__image-picture {\n      max-width: 100%;\n      vertical-align: bottom;\n      display: block;\n    }\n\n  .image-tool__image-preloader {\n      width: 50px;\n      height: 50px;\n      border-radius: 50%;\n      background-size: cover;\n      margin: auto;\n      position: relative;\n      background-color: var(--bg-color);\n      background-position: center center;\n    }\n\n  .image-tool__image-preloader::after {\n        content: "";\n        position: absolute;\n        z-index: 3;\n        width: 60px;\n        height: 60px;\n        border-radius: 50%;\n        border: 2px solid var(--bg-color);\n        border-top-color: var(--front-color);\n        left: 50%;\n        top: 50%;\n        margin-top: -30px;\n        margin-left: -30px;\n        animation: image-preloader-spin 2s infinite linear;\n        box-sizing: border-box;\n      }\n\n  .image-tool__caption[contentEditable="true"][data-placeholder]::before {\n      position: absolute !important;\n      content: attr(data-placeholder);\n      color: #707684;\n      font-weight: normal;\n      display: none;\n    }\n\n  .image-tool__caption[contentEditable="true"][data-placeholder]:empty::before {\n        display: block;\n      }\n\n  .image-tool__caption[contentEditable="true"][data-placeholder]:empty:focus::before {\n        display: none;\n      }\n\n  .image-tool--empty .image-tool__image {\n      display: none;\n    }\n\n  .image-tool--empty .image-tool__caption, .image-tool--loading .image-tool__caption {\n      display: none;\n    }\n\n  .image-tool--filled .cdx-button {\n      display: none;\n    }\n\n  .image-tool--filled .image-tool__image-preloader {\n        display: none;\n      }\n\n  .image-tool--loading .image-tool__image {\n      min-height: 200px;\n      display: flex;\n      border: 1px solid var(--border-color);\n      background-color: #fff;\n    }\n\n  .image-tool--loading .image-tool__image-picture {\n        display: none;\n      }\n\n  .image-tool--loading .cdx-button {\n      display: none;\n    }\n\n  /**\n   * Tunes\n   * ----------------\n   */\n\n  .image-tool--withBorder .image-tool__image {\n      border: 1px solid var(--border-color);\n    }\n\n  .image-tool--withBackground .image-tool__image {\n      padding: 15px;\n      background: var(--bg-color);\n    }\n\n  .image-tool--withBackground .image-tool__image-picture {\n        max-width: 60%;\n        margin: 0 auto;\n      }\n\n  .image-tool--stretched .image-tool__image-picture {\n        width: 100%;\n      }\n\n@keyframes image-preloader-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n',""]),t.exports=e},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var r=(a=o,u=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),"/*# ".concat(c," */")),i=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[n].concat(i).concat([r]).join("\n")}var a,u,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,o){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var u=0;u<t.length;u++){var c=[].concat(t[u]);o&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},function(t,e,n){var o=n(4);t.exports=function(t){if(Array.isArray(t))return o(t)}},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],o=!0,r=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(o=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==u.return||u.return()}finally{if(r)throw i}}return n}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return P}));var o=n(3),r=n.n(o),i=n(6),a=n.n(i),u=n(1),c=n.n(u),s=n(0),l=n.n(s),f=(n(15),n(7)),d=n.n(f),p=n(8),h=n.n(p),m=function(){function t(e){var n=e.api,o=e.config,r=e.onSelectFile,i=e.readOnly;c()(this,t),this.api=n,this.config=o,this.onSelectFile=r,this.readOnly=i,this.nodes={wrapper:g("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:g("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:g("div",this.CSS.imagePreloader),caption:g("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}return l()(t,[{key:"render",value:function(e){return e.file&&0!==Object.keys(e.file).length?this.toggleStatus(t.status.UPLOADING):this.toggleStatus(t.status.EMPTY),this.nodes.wrapper}},{key:"createFileButton",value:function(){var t=this,e=g("div",[this.CSS.button]);return e.innerHTML=this.config.buttonContent||"".concat(h.a," ").concat(this.api.i18n.t("Select an Image")),e.addEventListener("click",(function(){t.onSelectFile()})),e}},{key:"showPreloader",value:function(e){this.nodes.imagePreloader.style.backgroundImage="url(".concat(e,")"),this.toggleStatus(t.status.UPLOADING)}},{key:"hidePreloader",value:function(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(t.status.EMPTY)}},{key:"fillImage",value:function(e){var n=this,o=/\.mp4$/.test(e)?"VIDEO":"IMG",r={src:e},i="load";"VIDEO"===o&&(r.autoplay=!0,r.loop=!0,r.muted=!0,r.playsinline=!0,i="loadeddata"),this.nodes.imageEl=g(o,this.CSS.imageEl,r),this.nodes.imageEl.addEventListener(i,(function(){n.toggleStatus(t.status.FILLED),n.nodes.imagePreloader&&(n.nodes.imagePreloader.style.backgroundImage="")})),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}},{key:"fillCaption",value:function(t){this.nodes.caption&&(this.nodes.caption.innerHTML=t)}},{key:"toggleStatus",value:function(e){for(var n in t.status)Object.prototype.hasOwnProperty.call(t.status,n)&&this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(t.status[n]),e===t.status[n])}},{key:"applyTune",value:function(t,e){this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(t),e)}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}}],[{key:"status",get:function(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}}]),t}(),g=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=document.createElement(t);Array.isArray(n)?(e=r.classList).add.apply(e,d()(n)):n&&r.classList.add(n);for(var i in o)r[i]=o[i];return r},v=n(9),y=n.n(v),b=n(10),w=n.n(b),_=n(11),x=n.n(_),E=function(){function t(e){var n=e.api,o=e.actions,r=e.onChange;c()(this,t),this.api=n,this.actions=o,this.onChange=r,this.buttons=[]}return l()(t,[{key:"render",value:function(e){var n=this,o=g("div",this.CSS.wrapper);return this.buttons=[],t.tunes.concat(this.actions).forEach((function(t){var r=n.api.i18n.t(t.title),i=g("div",[n.CSS.buttonBase,n.CSS.button],{innerHTML:t.icon,title:r});i.addEventListener("click",(function(){n.tuneClicked(t.name,t.action)})),i.dataset.tune=t.name,i.classList.toggle(n.CSS.buttonActive,e[t.name]),n.buttons.push(i),n.api.tooltip.onHover(i,r,{placement:"top"}),o.appendChild(i)})),o}},{key:"tuneClicked",value:function(t,e){if("function"==typeof e&&!e(t))return!1;var n=this.buttons.find((function(e){return e.dataset.tune===t}));n.classList.toggle(this.CSS.buttonActive,!n.classList.contains(this.CSS.buttonActive)),this.onChange(t)}},{key:"CSS",get:function(){return{wrapper:"",buttonBase:this.api.styles.settingsButton,button:"image-tool__tune",buttonActive:this.api.styles.settingsButtonActive}}}],[{key:"tunes",get:function(){return[{name:"withBorder",icon:w.a,title:"With border"},{name:"stretched",icon:x.a,title:"Stretch image"},{name:"withBackground",icon:y.a,title:"With background"}]}}]),t}(),S=n(12),k=n.n(S),T=n(13),O=n.n(T),j=n(2),L=n.n(j),C=function(){function t(e){var n=e.config,o=e.onUpload,r=e.onError;c()(this,t),this.config=n,this.onUpload=o,this.onError=r}return l()(t,[{key:"uploadSelectedFile",value:function(t){var e=this,n=t.onPreview,o=function(t){var e=new FileReader;e.readAsDataURL(t),e.onload=function(t){n(t.target.result)}};(this.config.uploader&&"function"==typeof this.config.uploader.uploadByFile?L.a.selectFiles({accept:this.config.types}).then((function(t){o(t[0]);var n=e.config.uploader.uploadByFile(t[0]);return F(n)||console.warn("Custom uploader method uploadByFile should return a Promise"),n})):L.a.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:function(t){o(t[0])},fieldName:this.config.field}).then((function(t){return t.body}))).then((function(t){e.onUpload(t)})).catch((function(t){e.onError(t)}))}},{key:"uploadByUrl",value:function(t){var e,n=this;this.config.uploader&&"function"==typeof this.config.uploader.uploadByUrl?F(e=this.config.uploader.uploadByUrl(t))||console.warn("Custom uploader method uploadByUrl should return a Promise"):e=L.a.post({url:this.config.endpoints.byUrl,data:Object.assign({url:t},this.config.additionalRequestData),type:L.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then((function(t){return t.body})),e.then((function(t){n.onUpload(t)})).catch((function(t){n.onError(t)}))}},{key:"uploadByFile",value:function(t,e){var n,o=this,r=e.onPreview,i=new FileReader;if(i.readAsDataURL(t),i.onload=function(t){r(t.target.result)},this.config.uploader&&"function"==typeof this.config.uploader.uploadByFile)F(n=this.config.uploader.uploadByFile(t))||console.warn("Custom uploader method uploadByFile should return a Promise");else{var a=new FormData;a.append(this.config.field,t),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach((function(t){var e=O()(t,2),n=e[0],o=e[1];a.append(n,o)})),n=L.a.post({url:this.config.endpoints.byFile,data:a,type:L.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then((function(t){return t.body}))}n.then((function(t){o.onUpload(t)})).catch((function(t){o.onError(t)}))}}]),t}();function F(t){return t&&"function"==typeof t.then}
/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js — main Tool's interface, public API and methods for working with data
 *  2) uploader.js — module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js — module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */var P=function(){function t(e){var n=this,o=e.data,r=e.config,i=e.api,a=e.readOnly;c()(this,t),this.api=i,this.readOnly=a,this.config={endpoints:r.endpoints||"",additionalRequestData:r.additionalRequestData||{},additionalRequestHeaders:r.additionalRequestHeaders||{},field:r.field||"image",types:r.types||"image/*",captionPlaceholder:this.api.i18n.t(r.captionPlaceholder||"Caption"),buttonContent:r.buttonContent||"",uploader:r.uploader||void 0,actions:r.actions||[]},this.uploader=new C({config:this.config,onUpload:function(t){return n.onUpload(t)},onError:function(t){return n.uploadingFailed(t)}}),this.ui=new m({api:i,config:this.config,onSelectFile:function(){n.uploader.uploadSelectedFile({onPreview:function(t){n.ui.showPreloader(t)}})},readOnly:a}),this.tunes=new E({api:i,actions:this.config.actions,onChange:function(t){return n.tuneToggled(t)}}),this._data={},this.data=o}var e;return l()(t,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:k.a,title:"Image"}}}]),l()(t,[{key:"render",value:function(){return this.ui.render(this.data)}},{key:"save",value:function(){var t=this.ui.nodes.caption;return this._data.caption=t.innerHTML,this.data}},{key:"renderSettings",value:function(){return this.tunes.render(this.data)}},{key:"appendCallback",value:function(){this.ui.nodes.fileButton.click()}},{key:"onPaste",value:(e=a()(r.a.mark((function t(e){var n,o,i,a,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="tag"===t.t0?3:"pattern"===t.t0?15:"file"===t.t0?18:21;break;case 3:if(n=e.detail.data,!/^blob:/.test(n.src)){t.next=13;break}return t.next=7,fetch(n.src);case 7:return o=t.sent,t.next=10,o.blob();case 10:return i=t.sent,this.uploadFile(i),t.abrupt("break",21);case 13:return this.uploadUrl(n.src),t.abrupt("break",21);case 15:return a=e.detail.data,this.uploadUrl(a),t.abrupt("break",21);case 18:return u=e.detail.file,this.uploadFile(u),t.abrupt("break",21);case 21:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"onUpload",value:function(t){t.success&&t.file?this.image=t.file:this.uploadingFailed("incorrect response: "+JSON.stringify(t))}},{key:"uploadingFailed",value:function(t){console.log("Image Tool: uploading failed because of",t),this.api.notifier.show({message:this.api.i18n.t("Couldn’t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}},{key:"tuneToggled",value:function(t){this.setTune(t,!this._data[t])}},{key:"setTune",value:function(t,e){var n=this;this._data[t]=e,this.ui.applyTune(t,e),"stretched"===t&&Promise.resolve().then((function(){var t=n.api.blocks.getCurrentBlockIndex();n.api.blocks.stretchBlock(t,e)})).catch((function(t){console.error(t)}))}},{key:"uploadFile",value:function(t){var e=this;this.uploader.uploadByFile(t,{onPreview:function(t){e.ui.showPreloader(t)}})}},{key:"uploadUrl",value:function(t){this.ui.showPreloader(t),this.uploader.uploadByUrl(t)}},{key:"data",set:function(t){var e=this;this.image=t.file,this._data.caption=t.caption||"",this.ui.fillCaption(this._data.caption),E.tunes.forEach((function(n){var o=n.name,r=void 0!==t[o]&&(!0===t[o]||"true"===t[o]);e.setTune(o,r)}))},get:function(){return this._data}},{key:"image",set:function(t){this._data.file=t||{},t&&t.url&&this.ui.fillImage(t.url)}}],[{key:"pasteConfig",get:function(){return{tags:["img"],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png)$/i},files:{mimeTypes:["image/*"]}}}}]),t}()}]).default}));

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BlZGl0b3Jqcy9pbWFnZS9kaXN0L2J1bmRsZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxlQUFlLEtBQWlELG9CQUFvQixTQUFpSCxDQUFDLG9CQUFvQixtQkFBbUIsU0FBUyxjQUFjLDRCQUE0QixZQUFZLHFCQUFxQiwyREFBMkQsdUNBQXVDLHFDQUFxQyxvQkFBb0IsRUFBRSxpQkFBaUIsNEZBQTRGLGVBQWUsd0NBQXdDLFNBQVMsRUFBRSxtQkFBbUIsOEJBQThCLHFEQUFxRCwwQkFBMEIsNkNBQTZDLHNCQUFzQiw2REFBNkQsWUFBWSxlQUFlLFNBQVMsaUJBQWlCLGlDQUFpQyxpQkFBaUIsWUFBWSxVQUFVLHNCQUFzQixtQkFBbUIsaURBQWlELG1CQUFtQixnQkFBZ0IsZ0JBQWdCLFlBQVksV0FBVyxLQUFLLFdBQVcsK0dBQStHLDBCQUEwQix3Q0FBd0MsZUFBZSx3QkFBd0IsK0VBQStFLGlCQUFpQiw2QkFBNkIsU0FBUyxjQUFjLDRCQUE0QixZQUFZLHFCQUFxQiwyREFBMkQsdUNBQXVDLHFDQUFxQyxvQkFBb0IsRUFBRSxpQkFBaUIsNEZBQTRGLGVBQWUsd0NBQXdDLFNBQVMsRUFBRSxtQkFBbUIsOEJBQThCLHFEQUFxRCwwQkFBMEIsNkNBQTZDLHNCQUFzQiw2REFBNkQsWUFBWSxlQUFlLFNBQVMsaUJBQWlCLGlDQUFpQyxpQkFBaUIsWUFBWSxVQUFVLHNCQUFzQixtQkFBbUIsaURBQWlELGlCQUFpQixnQkFBZ0IsTUFBTSxhQUFhLFlBQVksR0FBRyxJQUFJLG1DQUFtQyxTQUFTLG9DQUFvQyxZQUFZLGlCQUFpQixhQUFhLGFBQWEsd0JBQXdCLGNBQWMsY0FBYyxvRkFBb0YsOERBQThELCtFQUErRSxnQkFBZ0IsS0FBSyxhQUFhLFlBQVksdURBQXVELDhDQUE4QyxhQUFhLE1BQU0sSUFBSSxjQUFjLFNBQVMsMkJBQTJCLGVBQWUsMkNBQTJDLHlCQUF5QixnQkFB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QyxJQUFJLGlDQUFpQyxPQUFPLHVCQUF1QiwrQ0FBK0MsUUFBUSx5QkFBeUIsS0FBSyxHQUFHLFdBQVcsRyIsImZpbGUiOiJzdGF0aWMvY2h1bmtzLzQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLkltYWdlVG9vbD1lKCk6dC5JbWFnZVRvb2w9ZSgpfSh3aW5kb3csKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4obyl7aWYoZVtvXSlyZXR1cm4gZVtvXS5leHBvcnRzO3ZhciByPWVbb109e2k6byxsOiExLGV4cG9ydHM6e319O3JldHVybiB0W29dLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLG4pLHIubD0hMCxyLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUsbyl7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0Om99KX0sbi5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9bih0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgbz1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihvKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobyxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIHIgaW4gdCluLmQobyxyLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwscikpO3JldHVybiBvfSxuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLFwiYVwiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPVwiL1wiLG4obi5zPTI1KX0oW2Z1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgbz1lW25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLmtleSxvKX19dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxvKXtyZXR1cm4gZSYmbih0LnByb3RvdHlwZSxlKSxvJiZuKHQsbyksdH19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX19LGZ1bmN0aW9uKHQsZSxuKXt3aW5kb3csdC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4obyl7aWYoZVtvXSlyZXR1cm4gZVtvXS5leHBvcnRzO3ZhciByPWVbb109e2k6byxsOiExLGV4cG9ydHM6e319O3JldHVybiB0W29dLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLG4pLHIubD0hMCxyLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUsbyl7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0Om99KX0sbi5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9bih0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgbz1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihvKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobyxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIHIgaW4gdCluLmQobyxyLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwscikpO3JldHVybiBvfSxuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLFwiYVwiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPVwiXCIsbihuLnM9Myl9KFtmdW5jdGlvbih0LGUpe3ZhciBuO249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7bj1ufHxuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWNhdGNoKHQpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJihuPXdpbmRvdyl9dC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24odCl7dmFyIG89bigyKSxyPXNldFRpbWVvdXQ7ZnVuY3Rpb24gaSgpe31mdW5jdGlvbiBhKHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGEpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcm9taXNlcyBtdXN0IGJlIGNvbnN0cnVjdGVkIHZpYSBuZXdcIik7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwibm90IGEgZnVuY3Rpb25cIik7dGhpcy5fc3RhdGU9MCx0aGlzLl9oYW5kbGVkPSExLHRoaXMuX3ZhbHVlPXZvaWQgMCx0aGlzLl9kZWZlcnJlZHM9W10sZCh0LHRoaXMpfWZ1bmN0aW9uIHUodCxlKXtmb3IoOzM9PT10Ll9zdGF0ZTspdD10Ll92YWx1ZTswIT09dC5fc3RhdGU/KHQuX2hhbmRsZWQ9ITAsYS5faW1tZWRpYXRlRm4oKGZ1bmN0aW9uKCl7dmFyIG49MT09PXQuX3N0YXRlP2Uub25GdWxmaWxsZWQ6ZS5vblJlamVjdGVkO2lmKG51bGwhPT1uKXt2YXIgbzt0cnl7bz1uKHQuX3ZhbHVlKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCBzKGUucHJvbWlzZSx0KX1jKGUucHJvbWlzZSxvKX1lbHNlKDE9PT10Ll9zdGF0ZT9jOnMpKGUucHJvbWlzZSx0Ll92YWx1ZSl9KSkpOnQuX2RlZmVycmVkcy5wdXNoKGUpfWZ1bmN0aW9uIGModCxlKXt0cnl7aWYoZT09PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkEgcHJvbWlzZSBjYW5ub3QgYmUgcmVzb2x2ZWQgd2l0aCBpdHNlbGYuXCIpO2lmKGUmJihcIm9iamVjdFwiPT10eXBlb2YgZXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpe3ZhciBuPWUudGhlbjtpZihlIGluc3RhbmNlb2YgYSlyZXR1cm4gdC5fc3RhdGU9Myx0Ll92YWx1ZT1lLHZvaWQgbCh0KTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuKXJldHVybiB2b2lkIGQoKG89bixyPWUsZnVuY3Rpb24oKXtvLmFwcGx5KHIsYXJndW1lbnRzKX0pLHQpfXQuX3N0YXRlPTEsdC5fdmFsdWU9ZSxsKHQpfWNhdGNoKGUpe3ModCxlKX12YXIgbyxyfWZ1bmN0aW9uIHModCxlKXt0Ll9zdGF0ZT0yLHQuX3ZhbHVlPWUsbCh0KX1mdW5jdGlvbiBsKHQpezI9PT10Ll9zdGF0ZSYmMD09PXQuX2RlZmVycmVkcy5sZW5ndGgmJmEuX2ltbWVkaWF0ZUZuKChmdW5jdGlvbigpe3QuX2hhbmRsZWR8fGEuX3VuaGFuZGxlZFJlamVjdGlvbkZuKHQuX3ZhbHVlKX0pKTtmb3IodmFyIGU9MCxuPXQuX2RlZmVycmVkcy5sZW5ndGg7ZTxuO2UrKyl1KHQsdC5fZGVmZXJyZWRzW2VdKTt0Ll9kZWZlcnJlZHM9bnVsbH1mdW5jdGlvbiBmKHQsZSxuKXt0aGlzLm9uRnVsZmlsbGVkPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dDpudWxsLHRoaXMub25SZWplY3RlZD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2U6bnVsbCx0aGlzLnByb21pc2U9bn1mdW5jdGlvbiBkKHQsZSl7dmFyIG49ITE7dHJ5e3QoKGZ1bmN0aW9uKHQpe258fChuPSEwLGMoZSx0KSl9KSwoZnVuY3Rpb24odCl7bnx8KG49ITAscyhlLHQpKX0pKX1jYXRjaCh0KXtpZihuKXJldHVybjtuPSEwLHMoZSx0KX19YS5wcm90b3R5cGUuY2F0Y2g9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhlbihudWxsLHQpfSxhLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IHRoaXMuY29uc3RydWN0b3IoaSk7cmV0dXJuIHUodGhpcyxuZXcgZih0LGUsbikpLG59LGEucHJvdG90eXBlLmZpbmFsbHk9by5hLGEuYWxsPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgYSgoZnVuY3Rpb24oZSxuKXtpZighdHx8dm9pZCAwPT09dC5sZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByb21pc2UuYWxsIGFjY2VwdHMgYW4gYXJyYXlcIik7dmFyIG89QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCk7aWYoMD09PW8ubGVuZ3RoKXJldHVybiBlKFtdKTt2YXIgcj1vLmxlbmd0aDtmdW5jdGlvbiBpKHQsYSl7dHJ5e2lmKGEmJihcIm9iamVjdFwiPT10eXBlb2YgYXx8XCJmdW5jdGlvblwiPT10eXBlb2YgYSkpe3ZhciB1PWEudGhlbjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB1KXJldHVybiB2b2lkIHUuY2FsbChhLChmdW5jdGlvbihlKXtpKHQsZSl9KSxuKX1vW3RdPWEsMD09LS1yJiZlKG8pfWNhdGNoKHQpe24odCl9fWZvcih2YXIgYT0wO2E8by5sZW5ndGg7YSsrKWkoYSxvW2FdKX0pKX0sYS5yZXNvbHZlPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdC5jb25zdHJ1Y3Rvcj09PWE/dDpuZXcgYSgoZnVuY3Rpb24oZSl7ZSh0KX0pKX0sYS5yZWplY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBhKChmdW5jdGlvbihlLG4pe24odCl9KSl9LGEucmFjZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGEoKGZ1bmN0aW9uKGUsbil7Zm9yKHZhciBvPTAscj10Lmxlbmd0aDtvPHI7bysrKXRbb10udGhlbihlLG4pfSkpfSxhLl9pbW1lZGlhdGVGbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZmdW5jdGlvbihlKXt0KGUpfXx8ZnVuY3Rpb24odCl7cih0LDApfSxhLl91bmhhbmRsZWRSZWplY3Rpb25Gbj1mdW5jdGlvbih0KXtcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmY29uc29sZSYmY29uc29sZS53YXJuKFwiUG9zc2libGUgVW5oYW5kbGVkIFByb21pc2UgUmVqZWN0aW9uOlwiLHQpfSxlLmE9YX0pLmNhbGwodGhpcyxuKDUpLnNldEltbWVkaWF0ZSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy50aGVuKChmdW5jdGlvbihuKXtyZXR1cm4gZS5yZXNvbHZlKHQoKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbn0pKX0pLChmdW5jdGlvbihuKXtyZXR1cm4gZS5yZXNvbHZlKHQoKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5yZWplY3Qobil9KSl9KSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyh0KXtyZXR1cm4obz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSkodCl9big0KTt2YXIgcixpLGEsdSxjLHMsbCxmPW4oOCksZD0oaT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsbil7dD11KHQpLCh0PWModCkpLmJlZm9yZVNlbmQmJnQuYmVmb3JlU2VuZCgpO3ZhciBvPXdpbmRvdy5YTUxIdHRwUmVxdWVzdD9uZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0Om5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxIVFRQXCIpO28ub3Blbih0Lm1ldGhvZCx0LnVybCksby5zZXRSZXF1ZXN0SGVhZGVyKFwiWC1SZXF1ZXN0ZWQtV2l0aFwiLFwiWE1MSHR0cFJlcXVlc3RcIiksT2JqZWN0LmtleXModC5oZWFkZXJzKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj10LmhlYWRlcnNbZV07by5zZXRSZXF1ZXN0SGVhZGVyKGUsbil9KSk7dmFyIHI9dC5yYXRpbztvLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIiwoZnVuY3Rpb24oZSl7dmFyIG49TWF0aC5yb3VuZChlLmxvYWRlZC9lLnRvdGFsKjEwMCksbz1NYXRoLmNlaWwobipyLzEwMCk7dC5wcm9ncmVzcyhNYXRoLm1pbihvLDEwMCkpfSksITEpLG8uYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsKGZ1bmN0aW9uKGUpe3ZhciBuPU1hdGgucm91bmQoZS5sb2FkZWQvZS50b3RhbCoxMDApLG89TWF0aC5jZWlsKG4qKDEwMC1yKS8xMDApK3I7dC5wcm9ncmVzcyhNYXRoLm1pbihvLDEwMCkpfSksITEpLG8ub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09PW8ucmVhZHlTdGF0ZSl7dmFyIHQ9by5yZXNwb25zZTt0cnl7dD1KU09OLnBhcnNlKHQpfWNhdGNoKHQpe312YXIgcj1mLnBhcnNlSGVhZGVycyhvLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSxpPXtib2R5OnQsY29kZTpvLnN0YXR1cyxoZWFkZXJzOnJ9O2woby5zdGF0dXMpP2UoaSk6bihpKX19LG8uc2VuZCh0LmRhdGEpfSkpfSxhPWZ1bmN0aW9uKHQpe3JldHVybiB0Lm1ldGhvZD1cIlBPU1RcIixpKHQpfSx1PWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2lmKHQudXJsJiZcInN0cmluZ1wiIT10eXBlb2YgdC51cmwpdGhyb3cgbmV3IEVycm9yKFwiVXJsIG11c3QgYmUgYSBzdHJpbmdcIik7aWYodC51cmw9dC51cmx8fFwiXCIsdC5tZXRob2QmJlwic3RyaW5nXCIhPXR5cGVvZiB0Lm1ldGhvZCl0aHJvdyBuZXcgRXJyb3IoXCJgbWV0aG9kYCBtdXN0IGJlIGEgc3RyaW5nIG9yIG51bGxcIik7aWYodC5tZXRob2Q9dC5tZXRob2Q/dC5tZXRob2QudG9VcHBlckNhc2UoKTpcIkdFVFwiLHQuaGVhZGVycyYmXCJvYmplY3RcIiE9PW8odC5oZWFkZXJzKSl0aHJvdyBuZXcgRXJyb3IoXCJgaGVhZGVyc2AgbXVzdCBiZSBhbiBvYmplY3Qgb3IgbnVsbFwiKTtpZih0LmhlYWRlcnM9dC5oZWFkZXJzfHx7fSx0LnR5cGUmJihcInN0cmluZ1wiIT10eXBlb2YgdC50eXBlfHwhT2JqZWN0LnZhbHVlcyhyKS5pbmNsdWRlcyh0LnR5cGUpKSl0aHJvdyBuZXcgRXJyb3IoXCJgdHlwZWAgbXVzdCBiZSB0YWtlbiBmcm9tIG1vZHVsZSdzIMKrY29udGVudFR5cGXCuyBsaWJyYXJ5XCIpO2lmKHQucHJvZ3Jlc3MmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQucHJvZ3Jlc3MpdGhyb3cgbmV3IEVycm9yKFwiYHByb2dyZXNzYCBtdXN0IGJlIGEgZnVuY3Rpb24gb3IgbnVsbFwiKTtpZih0LnByb2dyZXNzPXQucHJvZ3Jlc3N8fGZ1bmN0aW9uKHQpe30sdC5iZWZvcmVTZW5kPXQuYmVmb3JlU2VuZHx8ZnVuY3Rpb24odCl7fSx0LnJhdGlvJiZcIm51bWJlclwiIT10eXBlb2YgdC5yYXRpbyl0aHJvdyBuZXcgRXJyb3IoXCJgcmF0aW9gIG11c3QgYmUgYSBudW1iZXJcIik7aWYodC5yYXRpbzwwfHx0LnJhdGlvPjEwMCl0aHJvdyBuZXcgRXJyb3IoXCJgcmF0aW9gIG11c3QgYmUgaW4gYSAwLTEwMCBpbnRlcnZhbFwiKTtpZih0LnJhdGlvPXQucmF0aW98fDkwLHQuYWNjZXB0JiZcInN0cmluZ1wiIT10eXBlb2YgdC5hY2NlcHQpdGhyb3cgbmV3IEVycm9yKFwiYGFjY2VwdGAgbXVzdCBiZSBhIHN0cmluZyB3aXRoIGEgbGlzdCBvZiBhbGxvd2VkIG1pbWUtdHlwZXNcIik7aWYodC5hY2NlcHQ9dC5hY2NlcHR8fFwiKi8qXCIsdC5tdWx0aXBsZSYmXCJib29sZWFuXCIhPXR5cGVvZiB0Lm11bHRpcGxlKXRocm93IG5ldyBFcnJvcihcImBtdWx0aXBsZWAgbXVzdCBiZSBhIHRydWUgb3IgZmFsc2VcIik7aWYodC5tdWx0aXBsZT10Lm11bHRpcGxlfHwhMSx0LmZpZWxkTmFtZSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQuZmllbGROYW1lKXRocm93IG5ldyBFcnJvcihcImBmaWVsZE5hbWVgIG11c3QgYmUgYSBzdHJpbmdcIik7cmV0dXJuIHQuZmllbGROYW1lPXQuZmllbGROYW1lfHxcImZpbGVzXCIsdH0sYz1mdW5jdGlvbih0KXtzd2l0Y2godC5tZXRob2Qpe2Nhc2VcIkdFVFwiOnZhciBlPXModC5kYXRhLHIuVVJMRU5DT0RFRCk7ZGVsZXRlIHQuZGF0YSx0LnVybD0vXFw/Ly50ZXN0KHQudXJsKT90LnVybCtcIiZcIitlOnQudXJsK1wiP1wiK2U7YnJlYWs7Y2FzZVwiUE9TVFwiOmNhc2VcIlBVVFwiOmNhc2VcIkRFTEVURVwiOmNhc2VcIlVQREFURVwiOnZhciBuPWZ1bmN0aW9uKCl7cmV0dXJuKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSkudHlwZXx8ci5KU09OfSh0KTsoZi5pc0Zvcm1EYXRhKHQuZGF0YSl8fGYuaXNGb3JtRWxlbWVudCh0LmRhdGEpKSYmKG49ci5GT1JNKSx0LmRhdGE9cyh0LmRhdGEsbiksbiE9PWQuY29udGVudFR5cGUuRk9STSYmKHQuaGVhZGVyc1tcImNvbnRlbnQtdHlwZVwiXT1uKX1yZXR1cm4gdH0scz1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApe2Nhc2Ugci5VUkxFTkNPREVEOnJldHVybiBmLnVybEVuY29kZSh0KTtjYXNlIHIuSlNPTjpyZXR1cm4gZi5qc29uRW5jb2RlKHQpO2Nhc2Ugci5GT1JNOnJldHVybiBmLmZvcm1FbmNvZGUodCk7ZGVmYXVsdDpyZXR1cm4gdH19LGw9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTIwMCYmdDwzMDB9LHtjb250ZW50VHlwZTpyPXtVUkxFTkNPREVEOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PXV0Zi04XCIsRk9STTpcIm11bHRpcGFydC9mb3JtLWRhdGFcIixKU09OOlwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwifSxyZXF1ZXN0OmksZ2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0Lm1ldGhvZD1cIkdFVFwiLGkodCl9LHBvc3Q6YSx0cmFuc3BvcnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dSh0KSxmLnNlbGVjdEZpbGVzKHQpLnRoZW4oKGZ1bmN0aW9uKGUpe2Zvcih2YXIgbj1uZXcgRm9ybURhdGEsbz0wO288ZS5sZW5ndGg7bysrKW4uYXBwZW5kKHQuZmllbGROYW1lLGVbb10sZVtvXS5uYW1lKTtmLmlzT2JqZWN0KHQuZGF0YSkmJk9iamVjdC5rZXlzKHQuZGF0YSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG89dC5kYXRhW2VdO24uYXBwZW5kKGUsbyl9KSk7dmFyIHI9dC5iZWZvcmVTZW5kO3JldHVybiB0LmJlZm9yZVNlbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gcihlKX0sdC5kYXRhPW4sYSh0KX0pKX0sc2VsZWN0RmlsZXM6ZnVuY3Rpb24odCl7cmV0dXJuIGRlbGV0ZSh0PXUodCkpLmJlZm9yZVNlbmQsZi5zZWxlY3RGaWxlcyh0KX19KTt0LmV4cG9ydHM9ZH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24ucihlKTt2YXIgbz1uKDEpO3dpbmRvdy5Qcm9taXNlPXdpbmRvdy5Qcm9taXNlfHxvLmF9LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24odCl7dmFyIG89dm9pZCAwIT09dCYmdHx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGZ8fHdpbmRvdyxyPUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtmdW5jdGlvbiBpKHQsZSl7dGhpcy5faWQ9dCx0aGlzLl9jbGVhckZuPWV9ZS5zZXRUaW1lb3V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHIuY2FsbChzZXRUaW1lb3V0LG8sYXJndW1lbnRzKSxjbGVhclRpbWVvdXQpfSxlLnNldEludGVydmFsPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHIuY2FsbChzZXRJbnRlcnZhbCxvLGFyZ3VtZW50cyksY2xlYXJJbnRlcnZhbCl9LGUuY2xlYXJUaW1lb3V0PWUuY2xlYXJJbnRlcnZhbD1mdW5jdGlvbih0KXt0JiZ0LmNsb3NlKCl9LGkucHJvdG90eXBlLnVucmVmPWkucHJvdG90eXBlLnJlZj1mdW5jdGlvbigpe30saS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckZuLmNhbGwobyx0aGlzLl9pZCl9LGUuZW5yb2xsPWZ1bmN0aW9uKHQsZSl7Y2xlYXJUaW1lb3V0KHQuX2lkbGVUaW1lb3V0SWQpLHQuX2lkbGVUaW1lb3V0PWV9LGUudW5lbnJvbGw9ZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KHQuX2lkbGVUaW1lb3V0SWQpLHQuX2lkbGVUaW1lb3V0PS0xfSxlLl91bnJlZkFjdGl2ZT1lLmFjdGl2ZT1mdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodC5faWRsZVRpbWVvdXRJZCk7dmFyIGU9dC5faWRsZVRpbWVvdXQ7ZT49MCYmKHQuX2lkbGVUaW1lb3V0SWQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0Ll9vblRpbWVvdXQmJnQuX29uVGltZW91dCgpfSksZSkpfSxuKDYpLGUuc2V0SW1tZWRpYXRlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLnNldEltbWVkaWF0ZXx8dm9pZCAwIT09dCYmdC5zZXRJbW1lZGlhdGV8fHRoaXMmJnRoaXMuc2V0SW1tZWRpYXRlLGUuY2xlYXJJbW1lZGlhdGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuY2xlYXJJbW1lZGlhdGV8fHZvaWQgMCE9PXQmJnQuY2xlYXJJbW1lZGlhdGV8fHRoaXMmJnRoaXMuY2xlYXJJbW1lZGlhdGV9KS5jYWxsKHRoaXMsbigwKSl9LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24odCxlKXshZnVuY3Rpb24odCxuKXtcInVzZSBzdHJpY3RcIjtpZighdC5zZXRJbW1lZGlhdGUpe3ZhciBvLHIsaSxhLHUsYz0xLHM9e30sbD0hMSxmPXQuZG9jdW1lbnQsZD1PYmplY3QuZ2V0UHJvdG90eXBlT2YmJk9iamVjdC5nZXRQcm90b3R5cGVPZih0KTtkPWQmJmQuc2V0VGltZW91dD9kOnQsXCJbb2JqZWN0IHByb2Nlc3NdXCI9PT17fS50b1N0cmluZy5jYWxsKHQucHJvY2Vzcyk/bz1mdW5jdGlvbih0KXtlLm5leHRUaWNrKChmdW5jdGlvbigpe2godCl9KSl9OmZ1bmN0aW9uKCl7aWYodC5wb3N0TWVzc2FnZSYmIXQuaW1wb3J0U2NyaXB0cyl7dmFyIGU9ITAsbj10Lm9ubWVzc2FnZTtyZXR1cm4gdC5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXtlPSExfSx0LnBvc3RNZXNzYWdlKFwiXCIsXCIqXCIpLHQub25tZXNzYWdlPW4sZX19KCk/KGE9XCJzZXRJbW1lZGlhdGUkXCIrTWF0aC5yYW5kb20oKStcIiRcIix1PWZ1bmN0aW9uKGUpe2Uuc291cmNlPT09dCYmXCJzdHJpbmdcIj09dHlwZW9mIGUuZGF0YSYmMD09PWUuZGF0YS5pbmRleE9mKGEpJiZoKCtlLmRhdGEuc2xpY2UoYS5sZW5ndGgpKX0sdC5hZGRFdmVudExpc3RlbmVyP3QuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix1LCExKTp0LmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIsdSksbz1mdW5jdGlvbihlKXt0LnBvc3RNZXNzYWdlKGErZSxcIipcIil9KTp0Lk1lc3NhZ2VDaGFubmVsPygoaT1uZXcgTWVzc2FnZUNoYW5uZWwpLnBvcnQxLm9ubWVzc2FnZT1mdW5jdGlvbih0KXtoKHQuZGF0YSl9LG89ZnVuY3Rpb24odCl7aS5wb3J0Mi5wb3N0TWVzc2FnZSh0KX0pOmYmJlwib25yZWFkeXN0YXRlY2hhbmdlXCJpbiBmLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik/KHI9Zi5kb2N1bWVudEVsZW1lbnQsbz1mdW5jdGlvbih0KXt2YXIgZT1mLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7ZS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtoKHQpLGUub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsci5yZW1vdmVDaGlsZChlKSxlPW51bGx9LHIuYXBwZW5kQ2hpbGQoZSl9KTpvPWZ1bmN0aW9uKHQpe3NldFRpbWVvdXQoaCwwLHQpfSxkLnNldEltbWVkaWF0ZT1mdW5jdGlvbih0KXtcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiYodD1uZXcgRnVuY3Rpb24oXCJcIit0KSk7Zm9yKHZhciBlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpLG49MDtuPGUubGVuZ3RoO24rKyllW25dPWFyZ3VtZW50c1tuKzFdO3ZhciByPXtjYWxsYmFjazp0LGFyZ3M6ZX07cmV0dXJuIHNbY109cixvKGMpLGMrK30sZC5jbGVhckltbWVkaWF0ZT1wfWZ1bmN0aW9uIHAodCl7ZGVsZXRlIHNbdF19ZnVuY3Rpb24gaCh0KXtpZihsKXNldFRpbWVvdXQoaCwwLHQpO2Vsc2V7dmFyIGU9c1t0XTtpZihlKXtsPSEwO3RyeXshZnVuY3Rpb24odCl7dmFyIGU9dC5jYWxsYmFjayxuPXQuYXJncztzd2l0Y2gobi5sZW5ndGgpe2Nhc2UgMDplKCk7YnJlYWs7Y2FzZSAxOmUoblswXSk7YnJlYWs7Y2FzZSAyOmUoblswXSxuWzFdKTticmVhaztjYXNlIDM6ZShuWzBdLG5bMV0sblsyXSk7YnJlYWs7ZGVmYXVsdDplLmFwcGx5KHZvaWQgMCxuKX19KGUpfWZpbmFsbHl7cCh0KSxsPSExfX19fX0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNlbGY/dm9pZCAwPT09dD90aGlzOnQ6c2VsZil9KS5jYWxsKHRoaXMsbigwKSxuKDcpKX0sZnVuY3Rpb24odCxlKXt2YXIgbixvLHI9dC5leHBvcnRzPXt9O2Z1bmN0aW9uIGkoKXt0aHJvdyBuZXcgRXJyb3IoXCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIGEoKXt0aHJvdyBuZXcgRXJyb3IoXCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gdSh0KXtpZihuPT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dCh0LDApO2lmKChuPT09aXx8IW4pJiZzZXRUaW1lb3V0KXJldHVybiBuPXNldFRpbWVvdXQsc2V0VGltZW91dCh0LDApO3RyeXtyZXR1cm4gbih0LDApfWNhdGNoKGUpe3RyeXtyZXR1cm4gbi5jYWxsKG51bGwsdCwwKX1jYXRjaChlKXtyZXR1cm4gbi5jYWxsKHRoaXMsdCwwKX19fSFmdW5jdGlvbigpe3RyeXtuPVwiZnVuY3Rpb25cIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDppfWNhdGNoKHQpe249aX10cnl7bz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0OmF9Y2F0Y2godCl7bz1hfX0oKTt2YXIgYyxzPVtdLGw9ITEsZj0tMTtmdW5jdGlvbiBkKCl7bCYmYyYmKGw9ITEsYy5sZW5ndGg/cz1jLmNvbmNhdChzKTpmPS0xLHMubGVuZ3RoJiZwKCkpfWZ1bmN0aW9uIHAoKXtpZighbCl7dmFyIHQ9dShkKTtsPSEwO2Zvcih2YXIgZT1zLmxlbmd0aDtlOyl7Zm9yKGM9cyxzPVtdOysrZjxlOyljJiZjW2ZdLnJ1bigpO2Y9LTEsZT1zLmxlbmd0aH1jPW51bGwsbD0hMSxmdW5jdGlvbih0KXtpZihvPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQodCk7aWYoKG89PT1hfHwhbykmJmNsZWFyVGltZW91dClyZXR1cm4gbz1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KHQpO3RyeXtvKHQpfWNhdGNoKGUpe3RyeXtyZXR1cm4gby5jYWxsKG51bGwsdCl9Y2F0Y2goZSl7cmV0dXJuIG8uY2FsbCh0aGlzLHQpfX19KHQpfX1mdW5jdGlvbiBoKHQsZSl7dGhpcy5mdW49dCx0aGlzLmFycmF5PWV9ZnVuY3Rpb24gbSgpe31yLm5leHRUaWNrPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbi0xXT1hcmd1bWVudHNbbl07cy5wdXNoKG5ldyBoKHQsZSkpLDEhPT1zLmxlbmd0aHx8bHx8dShwKX0saC5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0sci50aXRsZT1cImJyb3dzZXJcIixyLmJyb3dzZXI9ITAsci5lbnY9e30sci5hcmd2PVtdLHIudmVyc2lvbj1cIlwiLHIudmVyc2lvbnM9e30sci5vbj1tLHIuYWRkTGlzdGVuZXI9bSxyLm9uY2U9bSxyLm9mZj1tLHIucmVtb3ZlTGlzdGVuZXI9bSxyLnJlbW92ZUFsbExpc3RlbmVycz1tLHIuZW1pdD1tLHIucHJlcGVuZExpc3RlbmVyPW0sci5wcmVwZW5kT25jZUxpc3RlbmVyPW0sci5saXN0ZW5lcnM9ZnVuY3Rpb24odCl7cmV0dXJuW119LHIuYmluZGluZz1mdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX0sci5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIn0sci5jaGRpcj1mdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIil9LHIudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBvKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBvPWVbbl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8ua2V5LG8pfX12YXIgcj1uKDkpO3QuZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpfXZhciBlLG47cmV0dXJuIGU9dCwobj1be2tleTpcInVybEVuY29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiByKHQpfX0se2tleTpcImpzb25FbmNvZGVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkodCl9fSx7a2V5OlwiZm9ybUVuY29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuaXNGb3JtRGF0YSh0KSlyZXR1cm4gdDtpZih0aGlzLmlzRm9ybUVsZW1lbnQodCkpcmV0dXJuIG5ldyBGb3JtRGF0YSh0KTtpZih0aGlzLmlzT2JqZWN0KHQpKXt2YXIgZT1uZXcgRm9ybURhdGE7cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciBvPXRbbl07ZS5hcHBlbmQobixvKX0pKSxlfXRocm93IG5ldyBFcnJvcihcImBkYXRhYCBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIE9iamVjdCwgRm9ybURhdGEgb3IgPEZPUk0+IEhUTUxFbGVtZW50XCIpfX0se2tleTpcImlzT2JqZWN0XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuXCJbb2JqZWN0IE9iamVjdF1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX19LHtrZXk6XCJpc0Zvcm1EYXRhXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBGb3JtRGF0YX19LHtrZXk6XCJpc0Zvcm1FbGVtZW50XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnR9fSx7a2V5Olwic2VsZWN0RmlsZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsbil7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIklOUFVUXCIpO28udHlwZT1cImZpbGVcIix0Lm11bHRpcGxlJiZvLnNldEF0dHJpYnV0ZShcIm11bHRpcGxlXCIsXCJtdWx0aXBsZVwiKSx0LmFjY2VwdCYmby5zZXRBdHRyaWJ1dGUoXCJhY2NlcHRcIix0LmFjY2VwdCksby5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobyksby5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsKGZ1bmN0aW9uKHQpe3ZhciBuPXQudGFyZ2V0LmZpbGVzO2UobiksZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChvKX0pLCExKSxvLmNsaWNrKCl9KSl9fSx7a2V5OlwicGFyc2VIZWFkZXJzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50cmltKCkuc3BsaXQoL1tcXHJcXG5dKy8pLG49e307cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9dC5zcGxpdChcIjogXCIpLG89ZS5zaGlmdCgpLHI9ZS5qb2luKFwiOiBcIik7byYmKG5bb109cil9KSksbn19XSkmJm8oZSxuKSx0fSgpfSxmdW5jdGlvbih0LGUpe3ZhciBuPWZ1bmN0aW9uKHQpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQodCkucmVwbGFjZSgvWyEnKCkqXS9nLGVzY2FwZSkucmVwbGFjZSgvJTIwL2csXCIrXCIpfSxvPWZ1bmN0aW9uKHQsZSxyLGkpe3JldHVybiBlPWV8fG51bGwscj1yfHxcIiZcIixpPWl8fG51bGwsdD9mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IEFycmF5LG49MDtuPHQubGVuZ3RoO24rKyl0W25dJiZlLnB1c2godFtuXSk7cmV0dXJuIGV9KE9iamVjdC5rZXlzKHQpLm1hcCgoZnVuY3Rpb24oYSl7dmFyIHUsYyxzPWE7aWYoaSYmKHM9aStcIltcIitzK1wiXVwiKSxcIm9iamVjdFwiPT10eXBlb2YgdFthXSYmbnVsbCE9PXRbYV0pdT1vKHRbYV0sbnVsbCxyLHMpO2Vsc2V7ZSYmKGM9cyxzPSFpc05hTihwYXJzZUZsb2F0KGMpKSYmaXNGaW5pdGUoYyk/ZStOdW1iZXIocyk6cyk7dmFyIGw9dFthXTtsPShsPTA9PT0obD0hMT09PShsPSEwPT09bD9cIjFcIjpsKT9cIjBcIjpsKT9cIjBcIjpsKXx8XCJcIix1PW4ocykrXCI9XCIrbihsKX1yZXR1cm4gdX0pKSkuam9pbihyKS5yZXBsYWNlKC9bIScoKSpdL2csXCJcIik6XCJcIn07dC5leHBvcnRzPW99XSl9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigxNCl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAsbz1uZXcgQXJyYXkoZSk7bjxlO24rKylvW25dPXRbbl07cmV0dXJuIG99fSxmdW5jdGlvbih0LGUsbil7dmFyIG89big0KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gbyh0LGUpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbShuKTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/byh0LGUpOnZvaWQgMH19fSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCxlLG4sbyxyLGksYSl7dHJ5e3ZhciB1PXRbaV0oYSksYz11LnZhbHVlfWNhdGNoKHQpe3JldHVybiB2b2lkIG4odCl9dS5kb25lP2UoYyk6UHJvbWlzZS5yZXNvbHZlKGMpLnRoZW4obyxyKX10LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxvPWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsaSl7dmFyIGE9dC5hcHBseShlLG8pO2Z1bmN0aW9uIHUodCl7bihhLHIsaSx1LGMsXCJuZXh0XCIsdCl9ZnVuY3Rpb24gYyh0KXtuKGEscixpLHUsYyxcInRocm93XCIsdCl9dSh2b2lkIDApfSkpfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1uKDE5KSxyPW4oMjApLGk9big1KSxhPW4oMjEpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbyh0KXx8cih0KXx8aSh0KXx8YSgpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTMuMTUgMTMuNjI4QTcuNzQ5IDcuNzQ5IDAgMCAwIDEwIDE3Ljc1YTcuNzQgNy43NCAwIDAgMCA2LjMwNS0zLjI0MmwtMi4zODctMi4xMjctMi43NjUgMi4yNDQtNC4zODktNC40OTYtMy42MTQgMy41em0tLjc4Ny0yLjMwM2w0LjQ0Ni00LjM3MSA0LjUyIDQuNjMgMi41MzQtMi4wNTcgMy41MzMgMi43OTdjLjIzLS43MzQuMzU0LTEuNTE0LjM1NC0yLjMyNGE3Ljc1IDcuNzUgMCAxIDAtMTUuMzg3IDEuMzI1ek0xMCAyMEM0LjQ3NyAyMCAwIDE1LjUyMyAwIDEwUzQuNDc3IDAgMTAgMHMxMCA0LjQ3NyAxMCAxMC00LjQ3NyAxMC0xMCAxMHpcIj48L3BhdGg+PC9zdmc+J30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTEwLjA0MyA4LjI2NWwzLjE4My0zLjE4M2gtMi45MjRMNC43NSAxMC42MzZ2Mi45MjNsNC4xNS00LjE1djIuMzUxbC0yLjE1OCAyLjE1OUg4Ljl2Mi4xMzdINC43Yy0xLjIxNSAwLTIuMi0uOTM2LTIuMi0yLjA5di04LjkzYzAtMS4xNTQuOTg1LTIuMDkgMi4yLTIuMDloMTAuNjYzbC4wMzMtLjAzMy4wMzQuMDM0YzEuMTc4LjA0IDIuMTIuOTYgMi4xMiAyLjA4OXYzLjIzSDE1LjNWNS4zNTlsLTIuOTA2IDIuOTA2aC0yLjM1ek03Ljk1MSA1LjA4Mkg0Ljc1djMuMjAxbDMuMjAxLTMuMnptNS4wOTkgNy4wNzh2My4wNGg0LjE1di0zLjA0aC00LjE1em0tMS4xLTIuMTM3aDYuMzVjLjYzNSAwIDEuMTUuNDg5IDEuMTUgMS4wOTJ2NS4xM2MwIC42MDMtLjUxNSAxLjA5Mi0xLjE1IDEuMDkyaC02LjM1Yy0uNjM1IDAtMS4xNS0uNDg5LTEuMTUtMS4wOTJ2LTUuMTNjMC0uNjAzLjUxNS0xLjA5MiAxLjE1LTEuMDkyelwiPjwvcGF0aD48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTUuOCAxMC41OTJ2Mi4wNDNoMi4zNXYyLjEzOEgxNS44djIuMjMyaC0yLjI1di0yLjIzMmgtMi40di0yLjEzOGgyLjR2LTIuMjhoMi4yNXYuMjM3aDEuMTUtMS4xNXpNMS45IDguNDU1di0zLjQyYzAtMS4xNTQuOTg1LTIuMDkgMi4yLTIuMDloNC4ydjIuMTM3SDQuMTV2My4zNzNIMS45em0wIDIuMTM3aDIuMjV2My4zMjVIOC4zdjIuMTM4SDQuMWMtMS4yMTUgMC0yLjItLjkzNi0yLjItMi4wOXYtMy4zNzN6bTE1LjA1LTIuMTM3SDE0LjdWNS4wODJoLTQuMTVWMi45NDVoNC4yYzEuMjE1IDAgMi4yLjkzNiAyLjIgMi4wOXYzLjQyelwiPjwvcGF0aD48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjE3XCIgaGVpZ2h0PVwiMTBcIiB2aWV3Qm94PVwiMCAwIDE3IDEwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTMuNTY4IDUuOTI1SDQuMDU2bDEuNzAzIDEuNzAzYTEuMTI1IDEuMTI1IDAgMCAxLTEuNTkgMS41OTFMLjk2MiA2LjAxNEExLjA2OSAxLjA2OSAwIDAgMSAuNTg4IDQuMjZMNC4zOC40NjlhMS4wNjkgMS4wNjkgMCAwIDEgMS41MTIgMS41MTFMNC4wODQgMy43ODdoOS42MDZsLTEuODUtMS44NWExLjA2OSAxLjA2OSAwIDEgMSAxLjUxMi0xLjUxbDMuNzkyIDMuNzkxYTEuMDY5IDEuMDY5IDAgMCAxLS40NzUgMS43ODhMMTMuNTE0IDkuMTZhMS4xMjUgMS4xMjUgMCAwIDEtMS41OS0xLjU5MWwxLjY0NC0xLjY0NHpcIj48L3BhdGg+PC9zdmc+J30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIxN1wiIGhlaWdodD1cIjE1XCIgdmlld0JveD1cIjAgMCAzMzYgMjc2XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMjkxIDE1MC4yNDJWNzljMC0xOC43NzgtMTUuMjIyLTM0LTM0LTM0SDc5Yy0xOC43NzggMC0zNCAxNS4yMjItMzQgMzR2NDIuMjY0bDY3LjE3OS00NC4xOTIgODAuMzk4IDcxLjYxNCA1Ni42ODYtMjkuMTRMMjkxIDE1MC4yNDJ6bS0uMzQ1IDUxLjYyMmwtNDIuMy0zMC4yNDYtNTYuMyAyOS44ODQtODAuNzczLTY2LjkyNUw0NSAxNzQuMTg3VjE5N2MwIDE4Ljc3OCAxNS4yMjIgMzQgMzQgMzRoMTc4YzE3LjEyNiAwIDMxLjI5NS0xMi42NjMgMzMuNjU1LTI5LjEzNnpNNzkgMGgxNzhjNDMuNjMgMCA3OSAzNS4zNyA3OSA3OXYxMThjMCA0My42My0zNS4zNyA3OS03OSA3OUg3OWMtNDMuNjMgMC03OS0zNS4zNy03OS03OVY3OUMwIDM1LjM3IDM1LjM3IDAgNzkgMHpcIj48L3BhdGg+PC9zdmc+J30sZnVuY3Rpb24odCxlLG4pe3ZhciBvPW4oMjIpLHI9bigyMyksaT1uKDUpLGE9bigyNCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG8odCl8fHIodCxlKXx8aSh0LGUpfHxhKCl9fSxmdW5jdGlvbih0LGUsbil7dmFyIG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9T2JqZWN0LnByb3RvdHlwZSxuPWUuaGFzT3duUHJvcGVydHksbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LHI9by5pdGVyYXRvcnx8XCJAQGl0ZXJhdG9yXCIsaT1vLmFzeW5jSXRlcmF0b3J8fFwiQEBhc3luY0l0ZXJhdG9yXCIsYT1vLnRvU3RyaW5nVGFnfHxcIkBAdG9TdHJpbmdUYWdcIjtmdW5jdGlvbiB1KHQsZSxuLG8pe3ZhciByPWUmJmUucHJvdG90eXBlIGluc3RhbmNlb2YgbD9lOmwsaT1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSxhPW5ldyB4KG98fFtdKTtyZXR1cm4gaS5faW52b2tlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1cInN1c3BlbmRlZFN0YXJ0XCI7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7aWYoXCJleGVjdXRpbmdcIj09PW8pdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtpZihcImNvbXBsZXRlZFwiPT09byl7aWYoXCJ0aHJvd1wiPT09cil0aHJvdyBpO3JldHVybiBTKCl9Zm9yKG4ubWV0aG9kPXIsbi5hcmc9aTs7KXt2YXIgYT1uLmRlbGVnYXRlO2lmKGEpe3ZhciB1PWIoYSxuKTtpZih1KXtpZih1PT09cyljb250aW51ZTtyZXR1cm4gdX19aWYoXCJuZXh0XCI9PT1uLm1ldGhvZCluLnNlbnQ9bi5fc2VudD1uLmFyZztlbHNlIGlmKFwidGhyb3dcIj09PW4ubWV0aG9kKXtpZihcInN1c3BlbmRlZFN0YXJ0XCI9PT1vKXRocm93IG89XCJjb21wbGV0ZWRcIixuLmFyZztuLmRpc3BhdGNoRXhjZXB0aW9uKG4uYXJnKX1lbHNlXCJyZXR1cm5cIj09PW4ubWV0aG9kJiZuLmFicnVwdChcInJldHVyblwiLG4uYXJnKTtvPVwiZXhlY3V0aW5nXCI7dmFyIGw9Yyh0LGUsbik7aWYoXCJub3JtYWxcIj09PWwudHlwZSl7aWYobz1uLmRvbmU/XCJjb21wbGV0ZWRcIjpcInN1c3BlbmRlZFlpZWxkXCIsbC5hcmc9PT1zKWNvbnRpbnVlO3JldHVybnt2YWx1ZTpsLmFyZyxkb25lOm4uZG9uZX19XCJ0aHJvd1wiPT09bC50eXBlJiYobz1cImNvbXBsZXRlZFwiLG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1sLmFyZyl9fX0odCxuLGEpLGl9ZnVuY3Rpb24gYyh0LGUsbil7dHJ5e3JldHVybnt0eXBlOlwibm9ybWFsXCIsYXJnOnQuY2FsbChlLG4pfX1jYXRjaCh0KXtyZXR1cm57dHlwZTpcInRocm93XCIsYXJnOnR9fX10LndyYXA9dTt2YXIgcz17fTtmdW5jdGlvbiBsKCl7fWZ1bmN0aW9uIGYoKXt9ZnVuY3Rpb24gZCgpe312YXIgcD17fTtwW3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3ZhciBoPU9iamVjdC5nZXRQcm90b3R5cGVPZixtPWgmJmgoaChFKFtdKSkpO20mJm0hPT1lJiZuLmNhbGwobSxyKSYmKHA9bSk7dmFyIGc9ZC5wcm90b3R5cGU9bC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShwKTtmdW5jdGlvbiB2KHQpe1tcIm5leHRcIixcInRocm93XCIsXCJyZXR1cm5cIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dFtlXT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faW52b2tlKGUsdCl9fSkpfWZ1bmN0aW9uIHkodCxlKXt2YXIgbzt0aGlzLl9pbnZva2U9ZnVuY3Rpb24ocixpKXtmdW5jdGlvbiBhKCl7cmV0dXJuIG5ldyBlKChmdW5jdGlvbihvLGEpeyFmdW5jdGlvbiBvKHIsaSxhLHUpe3ZhciBzPWModFtyXSx0LGkpO2lmKFwidGhyb3dcIiE9PXMudHlwZSl7dmFyIGw9cy5hcmcsZj1sLnZhbHVlO3JldHVybiBmJiZcIm9iamVjdFwiPT10eXBlb2YgZiYmbi5jYWxsKGYsXCJfX2F3YWl0XCIpP2UucmVzb2x2ZShmLl9fYXdhaXQpLnRoZW4oKGZ1bmN0aW9uKHQpe28oXCJuZXh0XCIsdCxhLHUpfSksKGZ1bmN0aW9uKHQpe28oXCJ0aHJvd1wiLHQsYSx1KX0pKTplLnJlc29sdmUoZikudGhlbigoZnVuY3Rpb24odCl7bC52YWx1ZT10LGEobCl9KSwoZnVuY3Rpb24odCl7cmV0dXJuIG8oXCJ0aHJvd1wiLHQsYSx1KX0pKX11KHMuYXJnKX0ocixpLG8sYSl9KSl9cmV0dXJuIG89bz9vLnRoZW4oYSxhKTphKCl9fWZ1bmN0aW9uIGIodCxlKXt2YXIgbj10Lml0ZXJhdG9yW2UubWV0aG9kXTtpZih2b2lkIDA9PT1uKXtpZihlLmRlbGVnYXRlPW51bGwsXCJ0aHJvd1wiPT09ZS5tZXRob2Qpe2lmKHQuaXRlcmF0b3IucmV0dXJuJiYoZS5tZXRob2Q9XCJyZXR1cm5cIixlLmFyZz12b2lkIDAsYih0LGUpLFwidGhyb3dcIj09PWUubWV0aG9kKSlyZXR1cm4gcztlLm1ldGhvZD1cInRocm93XCIsZS5hcmc9bmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2RcIil9cmV0dXJuIHN9dmFyIG89YyhuLHQuaXRlcmF0b3IsZS5hcmcpO2lmKFwidGhyb3dcIj09PW8udHlwZSlyZXR1cm4gZS5tZXRob2Q9XCJ0aHJvd1wiLGUuYXJnPW8uYXJnLGUuZGVsZWdhdGU9bnVsbCxzO3ZhciByPW8uYXJnO3JldHVybiByP3IuZG9uZT8oZVt0LnJlc3VsdE5hbWVdPXIudmFsdWUsZS5uZXh0PXQubmV4dExvYyxcInJldHVyblwiIT09ZS5tZXRob2QmJihlLm1ldGhvZD1cIm5leHRcIixlLmFyZz12b2lkIDApLGUuZGVsZWdhdGU9bnVsbCxzKTpyOihlLm1ldGhvZD1cInRocm93XCIsZS5hcmc9bmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpLGUuZGVsZWdhdGU9bnVsbCxzKX1mdW5jdGlvbiB3KHQpe3ZhciBlPXt0cnlMb2M6dFswXX07MSBpbiB0JiYoZS5jYXRjaExvYz10WzFdKSwyIGluIHQmJihlLmZpbmFsbHlMb2M9dFsyXSxlLmFmdGVyTG9jPXRbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKGUpfWZ1bmN0aW9uIF8odCl7dmFyIGU9dC5jb21wbGV0aW9ufHx7fTtlLnR5cGU9XCJub3JtYWxcIixkZWxldGUgZS5hcmcsdC5jb21wbGV0aW9uPWV9ZnVuY3Rpb24geCh0KXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6XCJyb290XCJ9XSx0LmZvckVhY2godyx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBFKHQpe2lmKHQpe3ZhciBlPXRbcl07aWYoZSlyZXR1cm4gZS5jYWxsKHQpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQubmV4dClyZXR1cm4gdDtpZighaXNOYU4odC5sZW5ndGgpKXt2YXIgbz0tMSxpPWZ1bmN0aW9uIGUoKXtmb3IoOysrbzx0Lmxlbmd0aDspaWYobi5jYWxsKHQsbykpcmV0dXJuIGUudmFsdWU9dFtvXSxlLmRvbmU9ITEsZTtyZXR1cm4gZS52YWx1ZT12b2lkIDAsZS5kb25lPSEwLGV9O3JldHVybiBpLm5leHQ9aX19cmV0dXJue25leHQ6U319ZnVuY3Rpb24gUygpe3JldHVybnt2YWx1ZTp2b2lkIDAsZG9uZTohMH19cmV0dXJuIGYucHJvdG90eXBlPWcuY29uc3RydWN0b3I9ZCxkLmNvbnN0cnVjdG9yPWYsZFthXT1mLmRpc3BsYXlOYW1lPVwiR2VuZXJhdG9yRnVuY3Rpb25cIix0LmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdC5jb25zdHJ1Y3RvcjtyZXR1cm4hIWUmJihlPT09Znx8XCJHZW5lcmF0b3JGdW5jdGlvblwiPT09KGUuZGlzcGxheU5hbWV8fGUubmFtZSkpfSx0Lm1hcms9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxkKToodC5fX3Byb3RvX189ZCxhIGluIHR8fCh0W2FdPVwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZyksdH0sdC5hd3JhcD1mdW5jdGlvbih0KXtyZXR1cm57X19hd2FpdDp0fX0sdih5LnByb3RvdHlwZSkseS5wcm90b3R5cGVbaV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sdC5Bc3luY0l0ZXJhdG9yPXksdC5hc3luYz1mdW5jdGlvbihlLG4sbyxyLGkpe3ZvaWQgMD09PWkmJihpPVByb21pc2UpO3ZhciBhPW5ldyB5KHUoZSxuLG8sciksaSk7cmV0dXJuIHQuaXNHZW5lcmF0b3JGdW5jdGlvbihuKT9hOmEubmV4dCgpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRvbmU/dC52YWx1ZTphLm5leHQoKX0pKX0sdihnKSxnW2FdPVwiR2VuZXJhdG9yXCIsZ1tyXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxnLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IEdlbmVyYXRvcl1cIn0sdC5rZXlzPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO2Zvcih2YXIgbiBpbiB0KWUucHVzaChuKTtyZXR1cm4gZS5yZXZlcnNlKCksZnVuY3Rpb24gbigpe2Zvcig7ZS5sZW5ndGg7KXt2YXIgbz1lLnBvcCgpO2lmKG8gaW4gdClyZXR1cm4gbi52YWx1ZT1vLG4uZG9uZT0hMSxufXJldHVybiBuLmRvbmU9ITAsbn19LHQudmFsdWVzPUUseC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOngscmVzZXQ6ZnVuY3Rpb24odCl7aWYodGhpcy5wcmV2PTAsdGhpcy5uZXh0PTAsdGhpcy5zZW50PXRoaXMuX3NlbnQ9dm9pZCAwLHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9XCJuZXh0XCIsdGhpcy5hcmc9dm9pZCAwLHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKF8pLCF0KWZvcih2YXIgZSBpbiB0aGlzKVwidFwiPT09ZS5jaGFyQXQoMCkmJm4uY2FsbCh0aGlzLGUpJiYhaXNOYU4oK2Uuc2xpY2UoMSkpJiYodGhpc1tlXT12b2lkIDApfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciB0PXRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO2lmKFwidGhyb3dcIj09PXQudHlwZSl0aHJvdyB0LmFyZztyZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbih0KXtpZih0aGlzLmRvbmUpdGhyb3cgdDt2YXIgZT10aGlzO2Z1bmN0aW9uIG8obixvKXtyZXR1cm4gYS50eXBlPVwidGhyb3dcIixhLmFyZz10LGUubmV4dD1uLG8mJihlLm1ldGhvZD1cIm5leHRcIixlLmFyZz12b2lkIDApLCEhb31mb3IodmFyIHI9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3I+PTA7LS1yKXt2YXIgaT10aGlzLnRyeUVudHJpZXNbcl0sYT1pLmNvbXBsZXRpb247aWYoXCJyb290XCI9PT1pLnRyeUxvYylyZXR1cm4gbyhcImVuZFwiKTtpZihpLnRyeUxvYzw9dGhpcy5wcmV2KXt2YXIgdT1uLmNhbGwoaSxcImNhdGNoTG9jXCIpLGM9bi5jYWxsKGksXCJmaW5hbGx5TG9jXCIpO2lmKHUmJmMpe2lmKHRoaXMucHJldjxpLmNhdGNoTG9jKXJldHVybiBvKGkuY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxpLmZpbmFsbHlMb2MpcmV0dXJuIG8oaS5maW5hbGx5TG9jKX1lbHNlIGlmKHUpe2lmKHRoaXMucHJldjxpLmNhdGNoTG9jKXJldHVybiBvKGkuY2F0Y2hMb2MsITApfWVsc2V7aWYoIWMpdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7aWYodGhpcy5wcmV2PGkuZmluYWxseUxvYylyZXR1cm4gbyhpLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG89dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO28+PTA7LS1vKXt2YXIgcj10aGlzLnRyeUVudHJpZXNbb107aWYoci50cnlMb2M8PXRoaXMucHJldiYmbi5jYWxsKHIsXCJmaW5hbGx5TG9jXCIpJiZ0aGlzLnByZXY8ci5maW5hbGx5TG9jKXt2YXIgaT1yO2JyZWFrfX1pJiYoXCJicmVha1wiPT09dHx8XCJjb250aW51ZVwiPT09dCkmJmkudHJ5TG9jPD1lJiZlPD1pLmZpbmFsbHlMb2MmJihpPW51bGwpO3ZhciBhPWk/aS5jb21wbGV0aW9uOnt9O3JldHVybiBhLnR5cGU9dCxhLmFyZz1lLGk/KHRoaXMubWV0aG9kPVwibmV4dFwiLHRoaXMubmV4dD1pLmZpbmFsbHlMb2Mscyk6dGhpcy5jb21wbGV0ZShhKX0sY29tcGxldGU6ZnVuY3Rpb24odCxlKXtpZihcInRocm93XCI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuXCJicmVha1wiPT09dC50eXBlfHxcImNvbnRpbnVlXCI9PT10LnR5cGU/dGhpcy5uZXh0PXQuYXJnOlwicmV0dXJuXCI9PT10LnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz10LmFyZyx0aGlzLm1ldGhvZD1cInJldHVyblwiLHRoaXMubmV4dD1cImVuZFwiKTpcIm5vcm1hbFwiPT09dC50eXBlJiZlJiYodGhpcy5uZXh0PWUpLHN9LGZpbmlzaDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2U+PTA7LS1lKXt2YXIgbj10aGlzLnRyeUVudHJpZXNbZV07aWYobi5maW5hbGx5TG9jPT09dClyZXR1cm4gdGhpcy5jb21wbGV0ZShuLmNvbXBsZXRpb24sbi5hZnRlckxvYyksXyhuKSxzfX0sY2F0Y2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtlPj0wOy0tZSl7dmFyIG49dGhpcy50cnlFbnRyaWVzW2VdO2lmKG4udHJ5TG9jPT09dCl7dmFyIG89bi5jb21wbGV0aW9uO2lmKFwidGhyb3dcIj09PW8udHlwZSl7dmFyIHI9by5hcmc7XyhuKX1yZXR1cm4gcn19dGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6RSh0KSxyZXN1bHROYW1lOmUsbmV4dExvYzpufSxcIm5leHRcIj09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9dm9pZCAwKSxzfX0sdH0odC5leHBvcnRzKTt0cnl7cmVnZW5lcmF0b3JSdW50aW1lPW99Y2F0Y2godCl7RnVuY3Rpb24oXCJyXCIsXCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByXCIpKG8pfX0sZnVuY3Rpb24odCxlLG4pe3ZhciBvPW4oMTYpLHI9bigxNyk7XCJzdHJpbmdcIj09dHlwZW9mKHI9ci5fX2VzTW9kdWxlP3IuZGVmYXVsdDpyKSYmKHI9W1t0LmkscixcIlwiXV0pO3ZhciBpPXtpbnNlcnQ6XCJoZWFkXCIsc2luZ2xldG9uOiExfSxhPShvKHIsaSksci5sb2NhbHM/ci5sb2NhbHM6e30pO3QuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG8scj1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT1vJiYobz1Cb29sZWFuKHdpbmRvdyYmZG9jdW1lbnQmJmRvY3VtZW50LmFsbCYmIXdpbmRvdy5hdG9iKSksb30saT1mdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiBmdW5jdGlvbihlKXtpZih2b2lkIDA9PT10W2VdKXt2YXIgbj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpO2lmKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCYmbiBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCl0cnl7bj1uLmNvbnRlbnREb2N1bWVudC5oZWFkfWNhdGNoKHQpe249bnVsbH10W2VdPW59cmV0dXJuIHRbZV19fSgpLGE9W107ZnVuY3Rpb24gdSh0KXtmb3IodmFyIGU9LTEsbj0wO248YS5sZW5ndGg7bisrKWlmKGFbbl0uaWRlbnRpZmllcj09PXQpe2U9bjticmVha31yZXR1cm4gZX1mdW5jdGlvbiBjKHQsZSl7Zm9yKHZhciBuPXt9LG89W10scj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgaT10W3JdLGM9ZS5iYXNlP2lbMF0rZS5iYXNlOmlbMF0scz1uW2NdfHwwLGw9XCJcIi5jb25jYXQoYyxcIiBcIikuY29uY2F0KHMpO25bY109cysxO3ZhciBmPXUobCksZD17Y3NzOmlbMV0sbWVkaWE6aVsyXSxzb3VyY2VNYXA6aVszXX07LTEhPT1mPyhhW2ZdLnJlZmVyZW5jZXMrKyxhW2ZdLnVwZGF0ZXIoZCkpOmEucHVzaCh7aWRlbnRpZmllcjpsLHVwZGF0ZXI6ZyhkLGUpLHJlZmVyZW5jZXM6MX0pLG8ucHVzaChsKX1yZXR1cm4gb31mdW5jdGlvbiBzKHQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSxvPXQuYXR0cmlidXRlc3x8e307aWYodm9pZCAwPT09by5ub25jZSl7dmFyIHI9bi5uYztyJiYoby5ub25jZT1yKX1pZihPYmplY3Qua2V5cyhvKS5mb3JFYWNoKChmdW5jdGlvbih0KXtlLnNldEF0dHJpYnV0ZSh0LG9bdF0pfSkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQuaW5zZXJ0KXQuaW5zZXJ0KGUpO2Vsc2V7dmFyIGE9aSh0Lmluc2VydHx8XCJoZWFkXCIpO2lmKCFhKXRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7YS5hcHBlbmRDaGlsZChlKX1yZXR1cm4gZX12YXIgbCxmPShsPVtdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGxbdF09ZSxsLmZpbHRlcihCb29sZWFuKS5qb2luKFwiXFxuXCIpfSk7ZnVuY3Rpb24gZCh0LGUsbixvKXt2YXIgcj1uP1wiXCI6by5tZWRpYT9cIkBtZWRpYSBcIi5jb25jYXQoby5tZWRpYSxcIiB7XCIpLmNvbmNhdChvLmNzcyxcIn1cIik6by5jc3M7aWYodC5zdHlsZVNoZWV0KXQuc3R5bGVTaGVldC5jc3NUZXh0PWYoZSxyKTtlbHNle3ZhciBpPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHIpLGE9dC5jaGlsZE5vZGVzO2FbZV0mJnQucmVtb3ZlQ2hpbGQoYVtlXSksYS5sZW5ndGg/dC5pbnNlcnRCZWZvcmUoaSxhW2VdKTp0LmFwcGVuZENoaWxkKGkpfX1mdW5jdGlvbiBwKHQsZSxuKXt2YXIgbz1uLmNzcyxyPW4ubWVkaWEsaT1uLnNvdXJjZU1hcDtpZihyP3Quc2V0QXR0cmlidXRlKFwibWVkaWFcIixyKTp0LnJlbW92ZUF0dHJpYnV0ZShcIm1lZGlhXCIpLGkmJmJ0b2EmJihvKz1cIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGkpKSkpLFwiICovXCIpKSx0LnN0eWxlU2hlZXQpdC5zdHlsZVNoZWV0LmNzc1RleHQ9bztlbHNle2Zvcig7dC5maXJzdENoaWxkOyl0LnJlbW92ZUNoaWxkKHQuZmlyc3RDaGlsZCk7dC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShvKSl9fXZhciBoPW51bGwsbT0wO2Z1bmN0aW9uIGcodCxlKXt2YXIgbixvLHI7aWYoZS5zaW5nbGV0b24pe3ZhciBpPW0rKztuPWh8fChoPXMoZSkpLG89ZC5iaW5kKG51bGwsbixpLCExKSxyPWQuYmluZChudWxsLG4saSwhMCl9ZWxzZSBuPXMoZSksbz1wLmJpbmQobnVsbCxuLGUpLHI9ZnVuY3Rpb24oKXshZnVuY3Rpb24odCl7aWYobnVsbD09PXQucGFyZW50Tm9kZSlyZXR1cm4hMTt0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCl9KG4pfTtyZXR1cm4gbyh0KSxmdW5jdGlvbihlKXtpZihlKXtpZihlLmNzcz09PXQuY3NzJiZlLm1lZGlhPT09dC5tZWRpYSYmZS5zb3VyY2VNYXA9PT10LnNvdXJjZU1hcClyZXR1cm47byh0PWUpfWVsc2UgcigpfX10LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXsoZT1lfHx7fSkuc2luZ2xldG9ufHxcImJvb2xlYW5cIj09dHlwZW9mIGUuc2luZ2xldG9ufHwoZS5zaW5nbGV0b249cigpKTt2YXIgbj1jKHQ9dHx8W10sZSk7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHQ9dHx8W10sXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXtmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIHI9dShuW29dKTthW3JdLnJlZmVyZW5jZXMtLX1mb3IodmFyIGk9Yyh0LGUpLHM9MDtzPG4ubGVuZ3RoO3MrKyl7dmFyIGw9dShuW3NdKTswPT09YVtsXS5yZWZlcmVuY2VzJiYoYVtsXS51cGRhdGVyKCksYS5zcGxpY2UobCwxKSl9bj1pfX19fSxmdW5jdGlvbih0LGUsbil7KGU9bigxOCkoITEpKS5wdXNoKFt0LmksJy5pbWFnZS10b29sIHtcXG4gIC0tYmctY29sb3I6ICNjZGQxZTA7XFxuICAtLWZyb250LWNvbG9yOiAjMzg4YWU1O1xcbiAgLS1ib3JkZXItY29sb3I6ICNlOGU4ZWI7XFxufVxcblxcbiAgLmltYWdlLXRvb2xfX2ltYWdlIHtcXG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcbiAgfVxcblxcbiAgLmltYWdlLXRvb2xfX2ltYWdlLXBpY3R1cmUge1xcbiAgICAgIG1heC13aWR0aDogMTAwJTtcXG4gICAgICB2ZXJ0aWNhbC1hbGlnbjogYm90dG9tO1xcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICB9XFxuXFxuICAuaW1hZ2UtdG9vbF9faW1hZ2UtcHJlbG9hZGVyIHtcXG4gICAgICB3aWR0aDogNTBweDtcXG4gICAgICBoZWlnaHQ6IDUwcHg7XFxuICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xcbiAgICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XFxuICAgICAgbWFyZ2luOiBhdXRvO1xcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iZy1jb2xvcik7XFxuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIGNlbnRlcjtcXG4gICAgfVxcblxcbiAgLmltYWdlLXRvb2xfX2ltYWdlLXByZWxvYWRlcjo6YWZ0ZXIge1xcbiAgICAgICAgY29udGVudDogXCJcIjtcXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICAgIHotaW5kZXg6IDM7XFxuICAgICAgICB3aWR0aDogNjBweDtcXG4gICAgICAgIGhlaWdodDogNjBweDtcXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcXG4gICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWJnLWNvbG9yKTtcXG4gICAgICAgIGJvcmRlci10b3AtY29sb3I6IHZhcigtLWZyb250LWNvbG9yKTtcXG4gICAgICAgIGxlZnQ6IDUwJTtcXG4gICAgICAgIHRvcDogNTAlO1xcbiAgICAgICAgbWFyZ2luLXRvcDogLTMwcHg7XFxuICAgICAgICBtYXJnaW4tbGVmdDogLTMwcHg7XFxuICAgICAgICBhbmltYXRpb246IGltYWdlLXByZWxvYWRlci1zcGluIDJzIGluZmluaXRlIGxpbmVhcjtcXG4gICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgICAgfVxcblxcbiAgLmltYWdlLXRvb2xfX2NhcHRpb25bY29udGVudEVkaXRhYmxlPVwidHJ1ZVwiXVtkYXRhLXBsYWNlaG9sZGVyXTo6YmVmb3JlIHtcXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGUgIWltcG9ydGFudDtcXG4gICAgICBjb250ZW50OiBhdHRyKGRhdGEtcGxhY2Vob2xkZXIpO1xcbiAgICAgIGNvbG9yOiAjNzA3Njg0O1xcbiAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XFxuICAgICAgZGlzcGxheTogbm9uZTtcXG4gICAgfVxcblxcbiAgLmltYWdlLXRvb2xfX2NhcHRpb25bY29udGVudEVkaXRhYmxlPVwidHJ1ZVwiXVtkYXRhLXBsYWNlaG9sZGVyXTplbXB0eTo6YmVmb3JlIHtcXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICAgIH1cXG5cXG4gIC5pbWFnZS10b29sX19jYXB0aW9uW2NvbnRlbnRFZGl0YWJsZT1cInRydWVcIl1bZGF0YS1wbGFjZWhvbGRlcl06ZW1wdHk6Zm9jdXM6OmJlZm9yZSB7XFxuICAgICAgICBkaXNwbGF5OiBub25lO1xcbiAgICAgIH1cXG5cXG4gIC5pbWFnZS10b29sLS1lbXB0eSAuaW1hZ2UtdG9vbF9faW1hZ2Uge1xcbiAgICAgIGRpc3BsYXk6IG5vbmU7XFxuICAgIH1cXG5cXG4gIC5pbWFnZS10b29sLS1lbXB0eSAuaW1hZ2UtdG9vbF9fY2FwdGlvbiwgLmltYWdlLXRvb2wtLWxvYWRpbmcgLmltYWdlLXRvb2xfX2NhcHRpb24ge1xcbiAgICAgIGRpc3BsYXk6IG5vbmU7XFxuICAgIH1cXG5cXG4gIC5pbWFnZS10b29sLS1maWxsZWQgLmNkeC1idXR0b24ge1xcbiAgICAgIGRpc3BsYXk6IG5vbmU7XFxuICAgIH1cXG5cXG4gIC5pbWFnZS10b29sLS1maWxsZWQgLmltYWdlLXRvb2xfX2ltYWdlLXByZWxvYWRlciB7XFxuICAgICAgICBkaXNwbGF5OiBub25lO1xcbiAgICAgIH1cXG5cXG4gIC5pbWFnZS10b29sLS1sb2FkaW5nIC5pbWFnZS10b29sX19pbWFnZSB7XFxuICAgICAgbWluLWhlaWdodDogMjAwcHg7XFxuICAgICAgZGlzcGxheTogZmxleDtcXG4gICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpO1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICAgIH1cXG5cXG4gIC5pbWFnZS10b29sLS1sb2FkaW5nIC5pbWFnZS10b29sX19pbWFnZS1waWN0dXJlIHtcXG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XFxuICAgICAgfVxcblxcbiAgLmltYWdlLXRvb2wtLWxvYWRpbmcgLmNkeC1idXR0b24ge1xcbiAgICAgIGRpc3BsYXk6IG5vbmU7XFxuICAgIH1cXG5cXG4gIC8qKlxcbiAgICogVHVuZXNcXG4gICAqIC0tLS0tLS0tLS0tLS0tLS1cXG4gICAqL1xcblxcbiAgLmltYWdlLXRvb2wtLXdpdGhCb3JkZXIgLmltYWdlLXRvb2xfX2ltYWdlIHtcXG4gICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpO1xcbiAgICB9XFxuXFxuICAuaW1hZ2UtdG9vbC0td2l0aEJhY2tncm91bmQgLmltYWdlLXRvb2xfX2ltYWdlIHtcXG4gICAgICBwYWRkaW5nOiAxNXB4O1xcbiAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLWNvbG9yKTtcXG4gICAgfVxcblxcbiAgLmltYWdlLXRvb2wtLXdpdGhCYWNrZ3JvdW5kIC5pbWFnZS10b29sX19pbWFnZS1waWN0dXJlIHtcXG4gICAgICAgIG1heC13aWR0aDogNjAlO1xcbiAgICAgICAgbWFyZ2luOiAwIGF1dG87XFxuICAgICAgfVxcblxcbiAgLmltYWdlLXRvb2wtLXN0cmV0Y2hlZCAuaW1hZ2UtdG9vbF9faW1hZ2UtcGljdHVyZSB7XFxuICAgICAgICB3aWR0aDogMTAwJTtcXG4gICAgICB9XFxuXFxuQGtleWZyYW1lcyBpbWFnZS1wcmVsb2FkZXItc3BpbiB7XFxuICAwJSB7XFxuICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xcbiAgfVxcbiAgMTAwJSB7XFxuICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7XFxuICB9XFxufVxcbicsXCJcIl0pLHQuZXhwb3J0cz1lfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKChmdW5jdGlvbihlKXt2YXIgbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRbMV18fFwiXCIsbz10WzNdO2lmKCFvKXJldHVybiBuO2lmKGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGJ0b2Epe3ZhciByPShhPW8sdT1idG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShhKSkpKSxjPVwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KHUpLFwiLyojIFwiLmNvbmNhdChjLFwiICovXCIpKSxpPW8uc291cmNlcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVyblwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoby5zb3VyY2VSb290fHxcIlwiKS5jb25jYXQodCxcIiAqL1wiKX0pKTtyZXR1cm5bbl0uY29uY2F0KGkpLmNvbmNhdChbcl0pLmpvaW4oXCJcXG5cIil9dmFyIGEsdSxjO3JldHVybltuXS5qb2luKFwiXFxuXCIpfShlLHQpO3JldHVybiBlWzJdP1wiQG1lZGlhIFwiLmNvbmNhdChlWzJdLFwiIHtcIikuY29uY2F0KG4sXCJ9XCIpOm59KSkuam9pbihcIlwiKX0sZS5pPWZ1bmN0aW9uKHQsbixvKXtcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9W1tudWxsLHQsXCJcIl1dKTt2YXIgcj17fTtpZihvKWZvcih2YXIgaT0wO2k8dGhpcy5sZW5ndGg7aSsrKXt2YXIgYT10aGlzW2ldWzBdO251bGwhPWEmJihyW2FdPSEwKX1mb3IodmFyIHU9MDt1PHQubGVuZ3RoO3UrKyl7dmFyIGM9W10uY29uY2F0KHRbdV0pO28mJnJbY1swXV18fChuJiYoY1syXT9jWzJdPVwiXCIuY29uY2F0KG4sXCIgYW5kIFwiKS5jb25jYXQoY1syXSk6Y1syXT1uKSxlLnB1c2goYykpfX0sZX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1uKDQpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiBvKHQpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdCh0KSlyZXR1cm4gQXJyYXkuZnJvbSh0KX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0fX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpKXt2YXIgbj1bXSxvPSEwLHI9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgYSx1PXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEobz0oYT11Lm5leHQoKSkuZG9uZSkmJihuLnB1c2goYS52YWx1ZSksIWV8fG4ubGVuZ3RoIT09ZSk7bz0hMCk7fWNhdGNoKHQpe3I9ITAsaT10fWZpbmFsbHl7dHJ5e298fG51bGw9PXUucmV0dXJufHx1LnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX1yZXR1cm4gbn19fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKGUpLG4uZChlLFwiZGVmYXVsdFwiLChmdW5jdGlvbigpe3JldHVybiBQfSkpO3ZhciBvPW4oMykscj1uLm4obyksaT1uKDYpLGE9bi5uKGkpLHU9bigxKSxjPW4ubih1KSxzPW4oMCksbD1uLm4ocyksZj0obigxNSksbig3KSksZD1uLm4oZikscD1uKDgpLGg9bi5uKHApLG09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPWUuYXBpLG89ZS5jb25maWcscj1lLm9uU2VsZWN0RmlsZSxpPWUucmVhZE9ubHk7YygpKHRoaXMsdCksdGhpcy5hcGk9bix0aGlzLmNvbmZpZz1vLHRoaXMub25TZWxlY3RGaWxlPXIsdGhpcy5yZWFkT25seT1pLHRoaXMubm9kZXM9e3dyYXBwZXI6ZyhcImRpdlwiLFt0aGlzLkNTUy5iYXNlQ2xhc3MsdGhpcy5DU1Mud3JhcHBlcl0pLGltYWdlQ29udGFpbmVyOmcoXCJkaXZcIixbdGhpcy5DU1MuaW1hZ2VDb250YWluZXJdKSxmaWxlQnV0dG9uOnRoaXMuY3JlYXRlRmlsZUJ1dHRvbigpLGltYWdlRWw6dm9pZCAwLGltYWdlUHJlbG9hZGVyOmcoXCJkaXZcIix0aGlzLkNTUy5pbWFnZVByZWxvYWRlciksY2FwdGlvbjpnKFwiZGl2XCIsW3RoaXMuQ1NTLmlucHV0LHRoaXMuQ1NTLmNhcHRpb25dLHtjb250ZW50RWRpdGFibGU6IXRoaXMucmVhZE9ubHl9KX0sdGhpcy5ub2Rlcy5jYXB0aW9uLmRhdGFzZXQucGxhY2Vob2xkZXI9dGhpcy5jb25maWcuY2FwdGlvblBsYWNlaG9sZGVyLHRoaXMubm9kZXMuaW1hZ2VDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy5pbWFnZVByZWxvYWRlciksdGhpcy5ub2Rlcy53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMubm9kZXMuaW1hZ2VDb250YWluZXIpLHRoaXMubm9kZXMud3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzLmNhcHRpb24pLHRoaXMubm9kZXMud3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzLmZpbGVCdXR0b24pfXJldHVybiBsKCkodCxbe2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmZpbGUmJjAhPT1PYmplY3Qua2V5cyhlLmZpbGUpLmxlbmd0aD90aGlzLnRvZ2dsZVN0YXR1cyh0LnN0YXR1cy5VUExPQURJTkcpOnRoaXMudG9nZ2xlU3RhdHVzKHQuc3RhdHVzLkVNUFRZKSx0aGlzLm5vZGVzLndyYXBwZXJ9fSx7a2V5OlwiY3JlYXRlRmlsZUJ1dHRvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWcoXCJkaXZcIixbdGhpcy5DU1MuYnV0dG9uXSk7cmV0dXJuIGUuaW5uZXJIVE1MPXRoaXMuY29uZmlnLmJ1dHRvbkNvbnRlbnR8fFwiXCIuY29uY2F0KGguYSxcIiBcIikuY29uY2F0KHRoaXMuYXBpLmkxOG4udChcIlNlbGVjdCBhbiBJbWFnZVwiKSksZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwoZnVuY3Rpb24oKXt0Lm9uU2VsZWN0RmlsZSgpfSkpLGV9fSx7a2V5Olwic2hvd1ByZWxvYWRlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMubm9kZXMuaW1hZ2VQcmVsb2FkZXIuc3R5bGUuYmFja2dyb3VuZEltYWdlPVwidXJsKFwiLmNvbmNhdChlLFwiKVwiKSx0aGlzLnRvZ2dsZVN0YXR1cyh0LnN0YXR1cy5VUExPQURJTkcpfX0se2tleTpcImhpZGVQcmVsb2FkZXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMubm9kZXMuaW1hZ2VQcmVsb2FkZXIuc3R5bGUuYmFja2dyb3VuZEltYWdlPVwiXCIsdGhpcy50b2dnbGVTdGF0dXModC5zdGF0dXMuRU1QVFkpfX0se2tleTpcImZpbGxJbWFnZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMsbz0vXFwubXA0JC8udGVzdChlKT9cIlZJREVPXCI6XCJJTUdcIixyPXtzcmM6ZX0saT1cImxvYWRcIjtcIlZJREVPXCI9PT1vJiYoci5hdXRvcGxheT0hMCxyLmxvb3A9ITAsci5tdXRlZD0hMCxyLnBsYXlzaW5saW5lPSEwLGk9XCJsb2FkZWRkYXRhXCIpLHRoaXMubm9kZXMuaW1hZ2VFbD1nKG8sdGhpcy5DU1MuaW1hZ2VFbCxyKSx0aGlzLm5vZGVzLmltYWdlRWwuYWRkRXZlbnRMaXN0ZW5lcihpLChmdW5jdGlvbigpe24udG9nZ2xlU3RhdHVzKHQuc3RhdHVzLkZJTExFRCksbi5ub2Rlcy5pbWFnZVByZWxvYWRlciYmKG4ubm9kZXMuaW1hZ2VQcmVsb2FkZXIuc3R5bGUuYmFja2dyb3VuZEltYWdlPVwiXCIpfSkpLHRoaXMubm9kZXMuaW1hZ2VDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy5pbWFnZUVsKX19LHtrZXk6XCJmaWxsQ2FwdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMubm9kZXMuY2FwdGlvbiYmKHRoaXMubm9kZXMuY2FwdGlvbi5pbm5lckhUTUw9dCl9fSx7a2V5OlwidG9nZ2xlU3RhdHVzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciBuIGluIHQuc3RhdHVzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LnN0YXR1cyxuKSYmdGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC50b2dnbGUoXCJcIi5jb25jYXQodGhpcy5DU1Mud3JhcHBlcixcIi0tXCIpLmNvbmNhdCh0LnN0YXR1c1tuXSksZT09PXQuc3RhdHVzW25dKX19LHtrZXk6XCJhcHBseVR1bmVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QudG9nZ2xlKFwiXCIuY29uY2F0KHRoaXMuQ1NTLndyYXBwZXIsXCItLVwiKS5jb25jYXQodCksZSl9fSx7a2V5OlwiQ1NTXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue2Jhc2VDbGFzczp0aGlzLmFwaS5zdHlsZXMuYmxvY2ssbG9hZGluZzp0aGlzLmFwaS5zdHlsZXMubG9hZGVyLGlucHV0OnRoaXMuYXBpLnN0eWxlcy5pbnB1dCxidXR0b246dGhpcy5hcGkuc3R5bGVzLmJ1dHRvbix3cmFwcGVyOlwiaW1hZ2UtdG9vbFwiLGltYWdlQ29udGFpbmVyOlwiaW1hZ2UtdG9vbF9faW1hZ2VcIixpbWFnZVByZWxvYWRlcjpcImltYWdlLXRvb2xfX2ltYWdlLXByZWxvYWRlclwiLGltYWdlRWw6XCJpbWFnZS10b29sX19pbWFnZS1waWN0dXJlXCIsY2FwdGlvbjpcImltYWdlLXRvb2xfX2NhcHRpb25cIn19fV0sW3trZXk6XCJzdGF0dXNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57RU1QVFk6XCJlbXB0eVwiLFVQTE9BRElORzpcImxvYWRpbmdcIixGSUxMRUQ6XCJmaWxsZWRcIn19fV0pLHR9KCksZz1mdW5jdGlvbih0KXt2YXIgZSxuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpudWxsLG89YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0KTtBcnJheS5pc0FycmF5KG4pPyhlPXIuY2xhc3NMaXN0KS5hZGQuYXBwbHkoZSxkKCkobikpOm4mJnIuY2xhc3NMaXN0LmFkZChuKTtmb3IodmFyIGkgaW4gbylyW2ldPW9baV07cmV0dXJuIHJ9LHY9big5KSx5PW4ubih2KSxiPW4oMTApLHc9bi5uKGIpLF89bigxMSkseD1uLm4oXyksRT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49ZS5hcGksbz1lLmFjdGlvbnMscj1lLm9uQ2hhbmdlO2MoKSh0aGlzLHQpLHRoaXMuYXBpPW4sdGhpcy5hY3Rpb25zPW8sdGhpcy5vbkNoYW5nZT1yLHRoaXMuYnV0dG9ucz1bXX1yZXR1cm4gbCgpKHQsW3trZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgbj10aGlzLG89ZyhcImRpdlwiLHRoaXMuQ1NTLndyYXBwZXIpO3JldHVybiB0aGlzLmJ1dHRvbnM9W10sdC50dW5lcy5jb25jYXQodGhpcy5hY3Rpb25zKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj1uLmFwaS5pMThuLnQodC50aXRsZSksaT1nKFwiZGl2XCIsW24uQ1NTLmJ1dHRvbkJhc2Usbi5DU1MuYnV0dG9uXSx7aW5uZXJIVE1MOnQuaWNvbix0aXRsZTpyfSk7aS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwoZnVuY3Rpb24oKXtuLnR1bmVDbGlja2VkKHQubmFtZSx0LmFjdGlvbil9KSksaS5kYXRhc2V0LnR1bmU9dC5uYW1lLGkuY2xhc3NMaXN0LnRvZ2dsZShuLkNTUy5idXR0b25BY3RpdmUsZVt0Lm5hbWVdKSxuLmJ1dHRvbnMucHVzaChpKSxuLmFwaS50b29sdGlwLm9uSG92ZXIoaSxyLHtwbGFjZW1lbnQ6XCJ0b3BcIn0pLG8uYXBwZW5kQ2hpbGQoaSl9KSksb319LHtrZXk6XCJ0dW5lQ2xpY2tlZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmIWUodCkpcmV0dXJuITE7dmFyIG49dGhpcy5idXR0b25zLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRhdGFzZXQudHVuZT09PXR9KSk7bi5jbGFzc0xpc3QudG9nZ2xlKHRoaXMuQ1NTLmJ1dHRvbkFjdGl2ZSwhbi5jbGFzc0xpc3QuY29udGFpbnModGhpcy5DU1MuYnV0dG9uQWN0aXZlKSksdGhpcy5vbkNoYW5nZSh0KX19LHtrZXk6XCJDU1NcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57d3JhcHBlcjpcIlwiLGJ1dHRvbkJhc2U6dGhpcy5hcGkuc3R5bGVzLnNldHRpbmdzQnV0dG9uLGJ1dHRvbjpcImltYWdlLXRvb2xfX3R1bmVcIixidXR0b25BY3RpdmU6dGhpcy5hcGkuc3R5bGVzLnNldHRpbmdzQnV0dG9uQWN0aXZlfX19XSxbe2tleTpcInR1bmVzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuW3tuYW1lOlwid2l0aEJvcmRlclwiLGljb246dy5hLHRpdGxlOlwiV2l0aCBib3JkZXJcIn0se25hbWU6XCJzdHJldGNoZWRcIixpY29uOnguYSx0aXRsZTpcIlN0cmV0Y2ggaW1hZ2VcIn0se25hbWU6XCJ3aXRoQmFja2dyb3VuZFwiLGljb246eS5hLHRpdGxlOlwiV2l0aCBiYWNrZ3JvdW5kXCJ9XX19XSksdH0oKSxTPW4oMTIpLGs9bi5uKFMpLFQ9bigxMyksTz1uLm4oVCksaj1uKDIpLEw9bi5uKGopLEM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPWUuY29uZmlnLG89ZS5vblVwbG9hZCxyPWUub25FcnJvcjtjKCkodGhpcyx0KSx0aGlzLmNvbmZpZz1uLHRoaXMub25VcGxvYWQ9byx0aGlzLm9uRXJyb3I9cn1yZXR1cm4gbCgpKHQsW3trZXk6XCJ1cGxvYWRTZWxlY3RlZEZpbGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC5vblByZXZpZXcsbz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgRmlsZVJlYWRlcjtlLnJlYWRBc0RhdGFVUkwodCksZS5vbmxvYWQ9ZnVuY3Rpb24odCl7bih0LnRhcmdldC5yZXN1bHQpfX07KHRoaXMuY29uZmlnLnVwbG9hZGVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmNvbmZpZy51cGxvYWRlci51cGxvYWRCeUZpbGU/TC5hLnNlbGVjdEZpbGVzKHthY2NlcHQ6dGhpcy5jb25maWcudHlwZXN9KS50aGVuKChmdW5jdGlvbih0KXtvKHRbMF0pO3ZhciBuPWUuY29uZmlnLnVwbG9hZGVyLnVwbG9hZEJ5RmlsZSh0WzBdKTtyZXR1cm4gRihuKXx8Y29uc29sZS53YXJuKFwiQ3VzdG9tIHVwbG9hZGVyIG1ldGhvZCB1cGxvYWRCeUZpbGUgc2hvdWxkIHJldHVybiBhIFByb21pc2VcIiksbn0pKTpMLmEudHJhbnNwb3J0KHt1cmw6dGhpcy5jb25maWcuZW5kcG9pbnRzLmJ5RmlsZSxkYXRhOnRoaXMuY29uZmlnLmFkZGl0aW9uYWxSZXF1ZXN0RGF0YSxhY2NlcHQ6dGhpcy5jb25maWcudHlwZXMsaGVhZGVyczp0aGlzLmNvbmZpZy5hZGRpdGlvbmFsUmVxdWVzdEhlYWRlcnMsYmVmb3JlU2VuZDpmdW5jdGlvbih0KXtvKHRbMF0pfSxmaWVsZE5hbWU6dGhpcy5jb25maWcuZmllbGR9KS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdC5ib2R5fSkpKS50aGVuKChmdW5jdGlvbih0KXtlLm9uVXBsb2FkKHQpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtlLm9uRXJyb3IodCl9KSl9fSx7a2V5OlwidXBsb2FkQnlVcmxcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxuPXRoaXM7dGhpcy5jb25maWcudXBsb2FkZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuY29uZmlnLnVwbG9hZGVyLnVwbG9hZEJ5VXJsP0YoZT10aGlzLmNvbmZpZy51cGxvYWRlci51cGxvYWRCeVVybCh0KSl8fGNvbnNvbGUud2FybihcIkN1c3RvbSB1cGxvYWRlciBtZXRob2QgdXBsb2FkQnlVcmwgc2hvdWxkIHJldHVybiBhIFByb21pc2VcIik6ZT1MLmEucG9zdCh7dXJsOnRoaXMuY29uZmlnLmVuZHBvaW50cy5ieVVybCxkYXRhOk9iamVjdC5hc3NpZ24oe3VybDp0fSx0aGlzLmNvbmZpZy5hZGRpdGlvbmFsUmVxdWVzdERhdGEpLHR5cGU6TC5hLmNvbnRlbnRUeXBlLkpTT04saGVhZGVyczp0aGlzLmNvbmZpZy5hZGRpdGlvbmFsUmVxdWVzdEhlYWRlcnN9KS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdC5ib2R5fSkpLGUudGhlbigoZnVuY3Rpb24odCl7bi5vblVwbG9hZCh0KX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7bi5vbkVycm9yKHQpfSkpfX0se2tleTpcInVwbG9hZEJ5RmlsZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG4sbz10aGlzLHI9ZS5vblByZXZpZXcsaT1uZXcgRmlsZVJlYWRlcjtpZihpLnJlYWRBc0RhdGFVUkwodCksaS5vbmxvYWQ9ZnVuY3Rpb24odCl7cih0LnRhcmdldC5yZXN1bHQpfSx0aGlzLmNvbmZpZy51cGxvYWRlciYmXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5jb25maWcudXBsb2FkZXIudXBsb2FkQnlGaWxlKUYobj10aGlzLmNvbmZpZy51cGxvYWRlci51cGxvYWRCeUZpbGUodCkpfHxjb25zb2xlLndhcm4oXCJDdXN0b20gdXBsb2FkZXIgbWV0aG9kIHVwbG9hZEJ5RmlsZSBzaG91bGQgcmV0dXJuIGEgUHJvbWlzZVwiKTtlbHNle3ZhciBhPW5ldyBGb3JtRGF0YTthLmFwcGVuZCh0aGlzLmNvbmZpZy5maWVsZCx0KSx0aGlzLmNvbmZpZy5hZGRpdGlvbmFsUmVxdWVzdERhdGEmJk9iamVjdC5rZXlzKHRoaXMuY29uZmlnLmFkZGl0aW9uYWxSZXF1ZXN0RGF0YSkubGVuZ3RoJiZPYmplY3QuZW50cmllcyh0aGlzLmNvbmZpZy5hZGRpdGlvbmFsUmVxdWVzdERhdGEpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPU8oKSh0LDIpLG49ZVswXSxvPWVbMV07YS5hcHBlbmQobixvKX0pKSxuPUwuYS5wb3N0KHt1cmw6dGhpcy5jb25maWcuZW5kcG9pbnRzLmJ5RmlsZSxkYXRhOmEsdHlwZTpMLmEuY29udGVudFR5cGUuSlNPTixoZWFkZXJzOnRoaXMuY29uZmlnLmFkZGl0aW9uYWxSZXF1ZXN0SGVhZGVyc30pLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0LmJvZHl9KSl9bi50aGVuKChmdW5jdGlvbih0KXtvLm9uVXBsb2FkKHQpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtvLm9uRXJyb3IodCl9KSl9fV0pLHR9KCk7ZnVuY3Rpb24gRih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC50aGVufVxuLyoqXG4gKiBJbWFnZSBUb29sIGZvciB0aGUgRWRpdG9yLmpzXG4gKlxuICogQGF1dGhvciBDb2RlWCA8dGVhbUBjb2RleC5zbz5cbiAqIEBsaWNlbnNlIE1JVFxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2VkaXRvci1qcy9pbWFnZX1cbiAqXG4gKiBUbyBkZXZlbG9wZXJzLlxuICogVG8gc2ltcGxpZnkgVG9vbCBzdHJ1Y3R1cmUsIHdlIHNwbGl0IGl0IHRvIDQgcGFydHM6XG4gKiAgMSkgaW5kZXguanMg4oCUIG1haW4gVG9vbCdzIGludGVyZmFjZSwgcHVibGljIEFQSSBhbmQgbWV0aG9kcyBmb3Igd29ya2luZyB3aXRoIGRhdGFcbiAqICAyKSB1cGxvYWRlci5qcyDigJQgbW9kdWxlIHRoYXQgaGFzIG1ldGhvZHMgZm9yIHNlbmRpbmcgZmlsZXMgdmlhIEFKQVg6IGZyb20gZGV2aWNlLCBieSBVUkwgb3IgRmlsZSBwYXN0aW5nXG4gKiAgMykgdWkuanMg4oCUIG1vZHVsZSBmb3IgVUkgbWFuaXB1bGF0aW9uczogcmVuZGVyLCBzaG93aW5nIHByZWxvYWRlciwgZXRjXG4gKiAgNCkgdHVuZXMuanMg4oCUIHdvcmtpbmcgd2l0aCBCbG9jayBUdW5lczogcmVuZGVyIGJ1dHRvbnMsIGhhbmRsZSBjbGlja3NcbiAqXG4gKiBGb3IgZGVidWcgcHVycG9zZXMgdGhlcmUgaXMgYSB0ZXN0aW5nIHNlcnZlclxuICogdGhhdCBjYW4gc2F2ZSB1cGxvYWRlZCBmaWxlcyBhbmQgcmV0dXJuIGEgUmVzcG9uc2Uge0BsaW5rIFVwbG9hZFJlc3BvbnNlRm9ybWF0fVxuICpcbiAqICAgICAgICQgbm9kZSBkZXYvc2VydmVyLmpzXG4gKlxuICogSXQgd2lsbCBleHBvc2UgODAwOCBwb3J0LCBzbyB5b3UgY2FuIHBhc3MgaHR0cDovL2xvY2FsaG9zdDo4MDA4IHdpdGggdGhlIFRvb2xzIGNvbmZpZzpcbiAqXG4gKiBpbWFnZToge1xuICogICBjbGFzczogSW1hZ2VUb29sLFxuICogICBjb25maWc6IHtcbiAqICAgICBlbmRwb2ludHM6IHtcbiAqICAgICAgIGJ5RmlsZTogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwOC91cGxvYWRGaWxlJyxcbiAqICAgICAgIGJ5VXJsOiAnaHR0cDovL2xvY2FsaG9zdDo4MDA4L2ZldGNoVXJsJyxcbiAqICAgICB9XG4gKiAgIH0sXG4gKiB9LFxuICovdmFyIFA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPXRoaXMsbz1lLmRhdGEscj1lLmNvbmZpZyxpPWUuYXBpLGE9ZS5yZWFkT25seTtjKCkodGhpcyx0KSx0aGlzLmFwaT1pLHRoaXMucmVhZE9ubHk9YSx0aGlzLmNvbmZpZz17ZW5kcG9pbnRzOnIuZW5kcG9pbnRzfHxcIlwiLGFkZGl0aW9uYWxSZXF1ZXN0RGF0YTpyLmFkZGl0aW9uYWxSZXF1ZXN0RGF0YXx8e30sYWRkaXRpb25hbFJlcXVlc3RIZWFkZXJzOnIuYWRkaXRpb25hbFJlcXVlc3RIZWFkZXJzfHx7fSxmaWVsZDpyLmZpZWxkfHxcImltYWdlXCIsdHlwZXM6ci50eXBlc3x8XCJpbWFnZS8qXCIsY2FwdGlvblBsYWNlaG9sZGVyOnRoaXMuYXBpLmkxOG4udChyLmNhcHRpb25QbGFjZWhvbGRlcnx8XCJDYXB0aW9uXCIpLGJ1dHRvbkNvbnRlbnQ6ci5idXR0b25Db250ZW50fHxcIlwiLHVwbG9hZGVyOnIudXBsb2FkZXJ8fHZvaWQgMCxhY3Rpb25zOnIuYWN0aW9uc3x8W119LHRoaXMudXBsb2FkZXI9bmV3IEMoe2NvbmZpZzp0aGlzLmNvbmZpZyxvblVwbG9hZDpmdW5jdGlvbih0KXtyZXR1cm4gbi5vblVwbG9hZCh0KX0sb25FcnJvcjpmdW5jdGlvbih0KXtyZXR1cm4gbi51cGxvYWRpbmdGYWlsZWQodCl9fSksdGhpcy51aT1uZXcgbSh7YXBpOmksY29uZmlnOnRoaXMuY29uZmlnLG9uU2VsZWN0RmlsZTpmdW5jdGlvbigpe24udXBsb2FkZXIudXBsb2FkU2VsZWN0ZWRGaWxlKHtvblByZXZpZXc6ZnVuY3Rpb24odCl7bi51aS5zaG93UHJlbG9hZGVyKHQpfX0pfSxyZWFkT25seTphfSksdGhpcy50dW5lcz1uZXcgRSh7YXBpOmksYWN0aW9uczp0aGlzLmNvbmZpZy5hY3Rpb25zLG9uQ2hhbmdlOmZ1bmN0aW9uKHQpe3JldHVybiBuLnR1bmVUb2dnbGVkKHQpfX0pLHRoaXMuX2RhdGE9e30sdGhpcy5kYXRhPW99dmFyIGU7cmV0dXJuIGwoKSh0LG51bGwsW3trZXk6XCJpc1JlYWRPbmx5U3VwcG9ydGVkXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuITB9fSx7a2V5OlwidG9vbGJveFwiLGdldDpmdW5jdGlvbigpe3JldHVybntpY29uOmsuYSx0aXRsZTpcIkltYWdlXCJ9fX1dKSxsKCkodCxbe2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudWkucmVuZGVyKHRoaXMuZGF0YSl9fSx7a2V5Olwic2F2ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy51aS5ub2Rlcy5jYXB0aW9uO3JldHVybiB0aGlzLl9kYXRhLmNhcHRpb249dC5pbm5lckhUTUwsdGhpcy5kYXRhfX0se2tleTpcInJlbmRlclNldHRpbmdzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50dW5lcy5yZW5kZXIodGhpcy5kYXRhKX19LHtrZXk6XCJhcHBlbmRDYWxsYmFja1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy51aS5ub2Rlcy5maWxlQnV0dG9uLmNsaWNrKCl9fSx7a2V5Olwib25QYXN0ZVwiLHZhbHVlOihlPWEoKShyLmEubWFyaygoZnVuY3Rpb24gdChlKXt2YXIgbixvLGksYSx1O3JldHVybiByLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6dC50MD1lLnR5cGUsdC5uZXh0PVwidGFnXCI9PT10LnQwPzM6XCJwYXR0ZXJuXCI9PT10LnQwPzE1OlwiZmlsZVwiPT09dC50MD8xODoyMTticmVhaztjYXNlIDM6aWYobj1lLmRldGFpbC5kYXRhLCEvXmJsb2I6Ly50ZXN0KG4uc3JjKSl7dC5uZXh0PTEzO2JyZWFrfXJldHVybiB0Lm5leHQ9NyxmZXRjaChuLnNyYyk7Y2FzZSA3OnJldHVybiBvPXQuc2VudCx0Lm5leHQ9MTAsby5ibG9iKCk7Y2FzZSAxMDpyZXR1cm4gaT10LnNlbnQsdGhpcy51cGxvYWRGaWxlKGkpLHQuYWJydXB0KFwiYnJlYWtcIiwyMSk7Y2FzZSAxMzpyZXR1cm4gdGhpcy51cGxvYWRVcmwobi5zcmMpLHQuYWJydXB0KFwiYnJlYWtcIiwyMSk7Y2FzZSAxNTpyZXR1cm4gYT1lLmRldGFpbC5kYXRhLHRoaXMudXBsb2FkVXJsKGEpLHQuYWJydXB0KFwiYnJlYWtcIiwyMSk7Y2FzZSAxODpyZXR1cm4gdT1lLmRldGFpbC5maWxlLHRoaXMudXBsb2FkRmlsZSh1KSx0LmFicnVwdChcImJyZWFrXCIsMjEpO2Nhc2UgMjE6Y2FzZVwiZW5kXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsdGhpcyl9KSkpLGZ1bmN0aW9uKHQpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5Olwib25VcGxvYWRcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnN1Y2Nlc3MmJnQuZmlsZT90aGlzLmltYWdlPXQuZmlsZTp0aGlzLnVwbG9hZGluZ0ZhaWxlZChcImluY29ycmVjdCByZXNwb25zZTogXCIrSlNPTi5zdHJpbmdpZnkodCkpfX0se2tleTpcInVwbG9hZGluZ0ZhaWxlZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKFwiSW1hZ2UgVG9vbDogdXBsb2FkaW5nIGZhaWxlZCBiZWNhdXNlIG9mXCIsdCksdGhpcy5hcGkubm90aWZpZXIuc2hvdyh7bWVzc2FnZTp0aGlzLmFwaS5pMThuLnQoXCJDb3VsZG7igJl0IHVwbG9hZCBpbWFnZS4gUGxlYXNlIHRyeSBhbm90aGVyLlwiKSxzdHlsZTpcImVycm9yXCJ9KSx0aGlzLnVpLmhpZGVQcmVsb2FkZXIoKX19LHtrZXk6XCJ0dW5lVG9nZ2xlZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuc2V0VHVuZSh0LCF0aGlzLl9kYXRhW3RdKX19LHtrZXk6XCJzZXRUdW5lXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3RoaXMuX2RhdGFbdF09ZSx0aGlzLnVpLmFwcGx5VHVuZSh0LGUpLFwic3RyZXRjaGVkXCI9PT10JiZQcm9taXNlLnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3ZhciB0PW4uYXBpLmJsb2Nrcy5nZXRDdXJyZW50QmxvY2tJbmRleCgpO24uYXBpLmJsb2Nrcy5zdHJldGNoQmxvY2sodCxlKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7Y29uc29sZS5lcnJvcih0KX0pKX19LHtrZXk6XCJ1cGxvYWRGaWxlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLnVwbG9hZGVyLnVwbG9hZEJ5RmlsZSh0LHtvblByZXZpZXc6ZnVuY3Rpb24odCl7ZS51aS5zaG93UHJlbG9hZGVyKHQpfX0pfX0se2tleTpcInVwbG9hZFVybFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMudWkuc2hvd1ByZWxvYWRlcih0KSx0aGlzLnVwbG9hZGVyLnVwbG9hZEJ5VXJsKHQpfX0se2tleTpcImRhdGFcIixzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLmltYWdlPXQuZmlsZSx0aGlzLl9kYXRhLmNhcHRpb249dC5jYXB0aW9ufHxcIlwiLHRoaXMudWkuZmlsbENhcHRpb24odGhpcy5fZGF0YS5jYXB0aW9uKSxFLnR1bmVzLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciBvPW4ubmFtZSxyPXZvaWQgMCE9PXRbb10mJighMD09PXRbb118fFwidHJ1ZVwiPT09dFtvXSk7ZS5zZXRUdW5lKG8scil9KSl9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfX0se2tleTpcImltYWdlXCIsc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2RhdGEuZmlsZT10fHx7fSx0JiZ0LnVybCYmdGhpcy51aS5maWxsSW1hZ2UodC51cmwpfX1dLFt7a2V5OlwicGFzdGVDb25maWdcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57dGFnczpbXCJpbWdcIl0scGF0dGVybnM6e2ltYWdlOi9odHRwcz86XFwvXFwvXFxTK1xcLihnaWZ8anBlP2d8dGlmZnxwbmcpJC9pfSxmaWxlczp7bWltZVR5cGVzOltcImltYWdlLypcIl19fX19XSksdH0oKX1dKS5kZWZhdWx0fSkpOyJdLCJzb3VyY2VSb290IjoiIn0=