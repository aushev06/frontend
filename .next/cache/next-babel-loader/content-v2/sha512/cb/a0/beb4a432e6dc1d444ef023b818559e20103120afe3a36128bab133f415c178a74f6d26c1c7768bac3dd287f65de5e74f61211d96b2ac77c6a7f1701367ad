{"ast":null,"code":"import _regeneratorRuntime from \"C:/Projects/projects/frontend/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Projects/projects/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from '../../core/axios';\nexport var CommentApi = {\n  get: function () {\n    var _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var params,\n          _yield$axios$get,\n          data,\n          _args = arguments;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              params = _args.length > 0 && _args[0] !== undefined ? _args[0] : {};\n              _context.next = 3;\n              return axios.get('/api/comments', {\n                params: params\n              });\n\n            case 3:\n              _yield$axios$get = _context.sent;\n              data = _yield$axios$get.data;\n              return _context.abrupt(\"return\", data);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function get() {\n      return _get.apply(this, arguments);\n    }\n\n    return get;\n  }(),\n  save: function () {\n    var _save = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(postId, text, toUserId, parentCommentId, commentId) {\n      var body, _yield$axios$put, _data, _yield$axios$post, data;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              body = {\n                post_id: postId,\n                text: text,\n                user_reply_id: toUserId,\n                parent_id: parentCommentId\n              };\n\n              if (!commentId) {\n                _context2.next = 7;\n                break;\n              }\n\n              _context2.next = 4;\n              return axios.put(\"/api/comments/\".concat(commentId), body);\n\n            case 4:\n              _yield$axios$put = _context2.sent;\n              _data = _yield$axios$put.data;\n              return _context2.abrupt(\"return\", _data);\n\n            case 7:\n              _context2.next = 9;\n              return axios.post(\"/api/comments\", body);\n\n            case 9:\n              _yield$axios$post = _context2.sent;\n              data = _yield$axios$post.data;\n              return _context2.abrupt(\"return\", data);\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    function save(_x, _x2, _x3, _x4, _x5) {\n      return _save.apply(this, arguments);\n    }\n\n    return save;\n  }()\n};","map":{"version":3,"sources":["C:/Projects/projects/frontend/services/api/CommentApi.ts"],"names":["axios","CommentApi","get","params","data","save","postId","text","toUserId","parentCommentId","commentId","body","post_id","user_reply_id","parent_id","put","post"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,kBAAlB;AAIA,OAAO,IAAMC,UAAU,GAAG;AACtBC,EAAAA,GAAG;AAAA,wEAAE;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAOC,cAAAA,MAAP,2DAAgB,EAAhB;AAAA;AAAA,qBACoBH,KAAK,CAACE,GAAN,CAAU,eAAV,EAA2B;AAC9CC,gBAAAA,MAAM,EAANA;AAD8C,eAA3B,CADpB;;AAAA;AAAA;AACMC,cAAAA,IADN,oBACMA,IADN;AAAA,+CAKMA,IALN;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,KADmB;AAStBC,EAAAA,IAAI;AAAA,yEAAE,kBAAOC,MAAP,EAAuBC,IAAvB,EAAqCC,QAArC,EAAwDC,eAAxD,EAAkFC,SAAlF;AAAA;;AAAA;AAAA;AAAA;AAAA;AACIC,cAAAA,IADJ,GACW;AACTC,gBAAAA,OAAO,EAAEN,MADA;AAETC,gBAAAA,IAAI,EAAJA,IAFS;AAGTM,gBAAAA,aAAa,EAAEL,QAHN;AAITM,gBAAAA,SAAS,EAAEL;AAJF,eADX;;AAAA,mBAQEC,SARF;AAAA;AAAA;AAAA;;AAAA;AAAA,qBASuBV,KAAK,CAACe,GAAN,yBAA2BL,SAA3B,GAAwCC,IAAxC,CATvB;;AAAA;AAAA;AASSP,cAAAA,KATT,oBASSA,IATT;AAAA,gDAWSA,KAXT;;AAAA;AAAA;AAAA,qBAcmBJ,KAAK,CAACgB,IAAN,kBAA4BL,IAA5B,CAdnB;;AAAA;AAAA;AAcKP,cAAAA,IAdL,qBAcKA,IAdL;AAAA,gDAgBKA,IAhBL;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AATkB,CAAnB","sourcesContent":["import axios from '../../core/axios';\r\nimport {Comment} from '../../interfaces';\r\n\r\n\r\nexport const CommentApi = {\r\n    get: async (params = {}): Promise<Comment[]> => {\r\n        const {data} = await axios.get('/api/comments', {\r\n          params\r\n        });\r\n\r\n        return data;\r\n    },\r\n\r\n    save: async (postId: number, text: string, toUserId?: number, parentCommentId?: number, commentId?: number) => {\r\n        const body = {\r\n            post_id: postId,\r\n            text,\r\n            user_reply_id: toUserId,\r\n            parent_id: parentCommentId\r\n        };\r\n\r\n        if (commentId) {\r\n            const {data} = await axios.put(`/api/comments/${commentId}`, body);\r\n\r\n            return data\r\n        }\r\n\r\n        const {data} = await axios.post(`/api/comments`, body);\r\n\r\n        return data\r\n    }\r\n\r\n};\r\n"]},"metadata":{},"sourceType":"module"}