{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"C:/Projects/projects/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Projects\\\\projects\\\\frontend\\\\components\\\\ProfilePopup\\\\index.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Popover, Avatar, Divider } from '@material-ui/core';\nimport styles from './ProfilePopup.module.scss';\nimport clsx from 'clsx';\nimport Link from 'next/link';\n\nvar ProfilePopup = function ProfilePopup(_ref) {\n  _s();\n\n  var user = _ref.user;\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      anchorEl = _React$useState2[0],\n      setAnchorEl = _React$useState2[1];\n\n  var handleClick = function handleClick(event) {\n    setAnchorEl(event.currentTarget);\n  };\n\n  var handleClose = function handleClose() {\n    setAnchorEl(null);\n  };\n\n  var open = Boolean(anchorEl);\n\n  var onLogout = function onLogout() {\n    var _window;\n\n    if ((_window = window) !== null && _window !== void 0 && _window.confirm('Вы действительно хотите покинуть сайт ?')) {\n      document.cookie = 'auth_token' + '=; Max-Age=0';\n      localStorage.removeItem('token');\n      location.href = '/';\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Avatar, {\n      className: \"cursor-pointer\",\n      alt: user.name,\n      src: user.avatar,\n      onClick: handleClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Popover, {\n      open: open,\n      anchorEl: anchorEl,\n      onClose: handleClose,\n      className: styles.popover,\n      classes: {\n        root: styles.root,\n        paper: styles.paper\n      },\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'center'\n      },\n      transformOrigin: {\n        vertical: 'top',\n        horizontal: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: clsx(styles.section1, 'd-flex'),\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n          alt: user.name,\n          src: user.avatar,\n          className: styles.avatar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: styles.name,\n            children: user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Divider, {\n        classes: {\n          root: styles.divider\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: clsx(styles.section2, 'd-flex flex-column'),\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          href: \"/profile/\".concat(user.id, \"?type=articles\"),\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"mb-3\",\n            children: \"\\u0421\\u0442\\u0430\\u0442\\u044C\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 60\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/profile/\".concat(user.id, \"?type=drafts\"),\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"mb-3\",\n            children: \"\\u0427\\u0435\\u0440\\u043D\\u043E\\u0432\\u0438\\u043A\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 58\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Link, {\n          href: '/profile',\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"mb-3\",\n            children: \"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 35\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Divider, {\n        classes: {\n          root: styles.divider\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"a\", {\n        onClick: onLogout,\n        className: clsx(styles.section2, 'd-flex flex-column'),\n        children: \"\\u0412\\u044B\\u0439\\u0442\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(ProfilePopup, \"+aMDa7FPcESUyQDF1vq0RSMn4/k=\");\n\n_c = ProfilePopup;\nexport default ProfilePopup;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfilePopup\");","map":{"version":3,"sources":["C:/Projects/projects/frontend/components/ProfilePopup/index.tsx"],"names":["React","Popover","Avatar","Divider","styles","clsx","Link","ProfilePopup","user","useState","anchorEl","setAnchorEl","handleClick","event","currentTarget","handleClose","open","Boolean","onLogout","window","confirm","document","cookie","localStorage","removeItem","location","href","name","avatar","popover","root","paper","vertical","horizontal","section1","divider","section2","id"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Popover, Avatar, Divider } from '@material-ui/core';\r\nimport styles from './ProfilePopup.module.scss';\r\nimport clsx from 'clsx';\r\nimport Link from 'next/link';\r\nimport {User} from \"../../interfaces\";\r\n\r\nexport interface PofilePopupProps {\r\n  onClick?: () => void;\r\n  user: User;\r\n}\r\n\r\nconst ProfilePopup: React.FC<PofilePopupProps> = ({ user }) => {\r\n  const [anchorEl, setAnchorEl] = React.useState<HTMLDivElement | null>(null);\r\n\r\n  const handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const open = Boolean(anchorEl);\r\n\r\n  const onLogout = () => {\r\n    if (window?.confirm('Вы действительно хотите покинуть сайт ?')) {\r\n      document.cookie = 'auth_token' + '=; Max-Age=0';\r\n      localStorage.removeItem('token');\r\n      location.href = '/';\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Avatar className=\"cursor-pointer\" alt={user.name} src={user.avatar} onClick={handleClick} />\r\n      <Popover\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        className={styles.popover}\r\n        classes={{\r\n          root: styles.root,\r\n          paper: styles.paper,\r\n        }}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'center',\r\n        }}\r\n        transformOrigin={{\r\n          vertical: 'top',\r\n          horizontal: 'center',\r\n        }}\r\n      >\r\n        <div className={clsx(styles.section1, 'd-flex')}>\r\n          <Avatar alt={user.name} src={user.avatar} className={styles.avatar} />\r\n          <div>\r\n            <a className={styles.name}>{user.name}</a>\r\n            {/*<div className={styles.login}>{user.login}</div>*/}\r\n          </div>\r\n        </div>\r\n        <Divider classes={{ root: styles.divider }} />\r\n        <div className={clsx(styles.section2, 'd-flex flex-column')}>\r\n          <Link href={`/profile/${user.id}?type=articles`}><a className=\"mb-3\">Статьи</a></Link>\r\n          <Link href={`/profile/${user.id}?type=drafts`}><a className=\"mb-3\">Черновики</a></Link>\r\n          <Link href={'/profile'}><a className=\"mb-3\">Настройки</a></Link>\r\n        </div>\r\n        <Divider classes={{ root: styles.divider }} />\r\n        <a onClick={onLogout} className={clsx(styles.section2, 'd-flex flex-column')}>Выйти</a>\r\n      </Popover>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProfilePopup;\r\n"]},"metadata":{},"sourceType":"module"}