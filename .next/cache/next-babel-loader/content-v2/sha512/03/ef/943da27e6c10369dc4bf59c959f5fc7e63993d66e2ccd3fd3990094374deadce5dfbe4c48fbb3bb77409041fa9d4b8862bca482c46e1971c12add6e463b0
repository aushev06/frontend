{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"C:/Projects/projects/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Projects\\\\projects\\\\frontend\\\\components\\\\MiniPost\\\\index.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { LikeBlock } from '../LikeBlock';\nimport styles from './MiniPost.module.scss';\nimport { PastTimeLabel } from '../PastTimeLabel';\nimport { UserViewOnContent } from '../UserViewOnContent';\nimport { ViewsAndComments } from '../ViewsAndComments';\nexport var MiniPost = function MiniPost(_ref) {\n  _s();\n\n  var postData = _ref.postData,\n      onSetLike = _ref.onSetLike;\n  var user = postData.user,\n      title = postData.title,\n      time = postData.time,\n      tags = postData.tags,\n      imageUrl = postData.imageUrl,\n      description = postData.description,\n      commentsCount = postData.commentsCount,\n      viewsCount = postData.viewsCount,\n      likesCount = postData.likesCount,\n      dislikesCount = postData.dislikesCount,\n      slug = postData.slug,\n      vote = postData.vote,\n      id = postData.id;\n\n  var _React$useState = React.useState({\n    likes: likesCount,\n    dislikes: dislikesCount,\n    vote: vote\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      likesAndDislikes = _React$useState2[0],\n      setLikesAndDislikes = _React$useState2[1];\n\n  var handleSetLike = function handleSetLike(like) {\n    setLikesAndDislikes(like);\n    onSetLike(id, like.vote);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.post,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.info,\n      children: [/*#__PURE__*/_jsxDEV(UserViewOnContent, {\n        user: user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(PastTimeLabel, {\n        time: time.getTime(),\n        leftSidePoint: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.tags,\n        children: tags.map(function (tag) {\n          return /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.tag,\n            children: [\"#\", tag]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, _this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, _this), postData.imageUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n      className: styles.image,\n      src: imageUrl,\n      alt: \"\\u0417\\u0434\\u0435\\u0441\\u044C \\u0434\\u043E\\u043B\\u0436\\u043D\\u0430 \\u0431\\u044B\\u043B\\u0430 \\u0431\\u044B\\u0442\\u044C \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0430, \\u043D\\u043E \\u0435\\u0451 \\u043D\\u0435\\u0442...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 29\n    }, _this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: styles.title,\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        href: \"/post/\".concat(slug),\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: styles.description,\n      children: description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.popularity,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.popularity_left,\n        children: /*#__PURE__*/_jsxDEV(ViewsAndComments, {\n          comments: commentsCount,\n          views: viewsCount,\n          mode: \"mini\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.popularity_right,\n        children: /*#__PURE__*/_jsxDEV(LikeBlock, {\n          vote: likesAndDislikes.vote,\n          likes: likesAndDislikes.likes,\n          dislikes: likesAndDislikes.dislikes,\n          mode: \"full\",\n          onChange: handleSetLike\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(MiniPost, \"3H2yuTd+dvt1P1CFQLiI9o51l2M=\");\n\n_c = MiniPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"MiniPost\");","map":{"version":3,"sources":["C:/Projects/projects/frontend/components/MiniPost/index.tsx"],"names":["React","Link","LikeBlock","styles","PastTimeLabel","UserViewOnContent","ViewsAndComments","MiniPost","postData","onSetLike","user","title","time","tags","imageUrl","description","commentsCount","viewsCount","likesCount","dislikesCount","slug","vote","id","useState","likes","dislikes","likesAndDislikes","setLikesAndDislikes","handleSetLike","like","post","info","getTime","map","tag","image","popularity","popularity_left","popularity_right"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Link from 'next/link';\r\nimport { formatDistanceToNow } from 'date-fns';\r\nimport { ru } from 'date-fns/locale';\r\nimport { CommentIcon } from '../icons/CommentIcon';\r\nimport { EyeIcon } from '../icons/EyeIcon';\r\nimport { LikeBlockResult, LikeBlock } from '../LikeBlock';\r\nimport styles from './MiniPost.module.scss';\r\nimport { PastTimeLabel } from '../PastTimeLabel';\r\nimport { UserViewOnContent } from '../UserViewOnContent';\r\nimport { ViewsAndComments } from '../ViewsAndComments';\r\n\r\nexport interface MiniPostData {\r\n  id: number;\r\n  title: string;\r\n  user: {\r\n    id: number;\r\n    name: string;\r\n    avatarUrl: string;\r\n  };\r\n  slug: string;\r\n  tags: string[];\r\n  time: Date;\r\n  description: string;\r\n  imageUrl: string;\r\n  commentsCount: number;\r\n  viewsCount: number;\r\n  likesCount: number;\r\n  dislikesCount: number;\r\n  vote?: 'like' | 'dislike' | null;\r\n}\r\n\r\ninterface MiniPostProps {\r\n  postData: MiniPostData;\r\n  onSetLike: (postId: number, like: unknown) => void\r\n\r\n}\r\n\r\nexport const MiniPost: React.FC<MiniPostProps> = ({ postData, onSetLike }) => {\r\n  const {\r\n    user,\r\n    title,\r\n    time,\r\n    tags,\r\n    imageUrl,\r\n    description,\r\n    commentsCount,\r\n    viewsCount,\r\n    likesCount,\r\n    dislikesCount,\r\n    slug,\r\n    vote,\r\n    id\r\n  } = postData;\r\n  const [likesAndDislikes, setLikesAndDislikes] = React.useState<LikeBlockResult>({\r\n    likes: likesCount,\r\n    dislikes: dislikesCount,\r\n    vote,\r\n  });\r\n\r\n  const handleSetLike = (like: LikeBlockResult) => {\r\n    setLikesAndDislikes(like)\r\n    onSetLike(id, like.vote)\r\n  }\r\n\r\n  return (\r\n    <div className={styles.post}>\r\n      <div className={styles.info}>\r\n        <UserViewOnContent user={user} />\r\n        <PastTimeLabel time={time.getTime()} leftSidePoint />\r\n        <div className={styles.tags}>\r\n          {tags.map((tag) => (\r\n            <span className={styles.tag}>#{tag}</span>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      {postData.imageUrl && <img className={styles.image} src={imageUrl} alt=\"Здесь должна была быть картинка, но её нет...\" />}\r\n      <h2 className={styles.title}>\r\n        <Link href={`/post/${slug}`}>{title}</Link>\r\n      </h2>\r\n      <p className={styles.description}>{description}</p>\r\n      <div className={styles.popularity}>\r\n        <div className={styles.popularity_left}>\r\n          <ViewsAndComments comments={commentsCount} views={viewsCount} mode=\"mini\" />\r\n        </div>\r\n        <div className={styles.popularity_right}>\r\n          <LikeBlock\r\n            vote={likesAndDislikes.vote}\r\n            likes={likesAndDislikes.likes}\r\n            dislikes={likesAndDislikes.dislikes}\r\n            mode=\"full\"\r\n            onChange={handleSetLike}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}