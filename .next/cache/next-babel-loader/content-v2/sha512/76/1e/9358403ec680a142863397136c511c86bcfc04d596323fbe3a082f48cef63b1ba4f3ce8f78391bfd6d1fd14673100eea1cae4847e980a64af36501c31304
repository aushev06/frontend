{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Projects\\\\projects\\\\frontend\\\\components\\\\pages\\\\SpecialistPage\\\\index.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport styles from './SpecialistPage.module.scss';\nimport UserMiniCard from \"../../UserMiniCard\";\nimport { LoadMore } from \"../../LoadMore\";\nimport { SideBlock } from \"../../SideBlock\";\nimport React from \"react\";\nimport { SpecialistCategoriesMenuList } from \"../../SpecialistCategoriesMenuList\";\nimport { getSpecialists } from \"../../../services/api/SpecialistsApi\";\nimport { useAllMQ } from \"../../../utils/useAllMQ\";\nimport clsx from \"clsx\";\nexport const SpecialistPageComponent = ({\n  initialSpecialistData,\n  categories\n}) => {\n  const [specialists, setSpecialists] = React.useState(initialSpecialistData.data);\n  const [paginationData, setPaginationData] = React.useState(initialSpecialistData);\n  const [selectedCategory, setSelectedCategory] = React.useState('');\n  const [searchParams, setSearchParams] = React.useState({\n    is_specialist: true\n  });\n  const useMq = useAllMQ();\n\n  const handleSelect = async category => {\n    setSelectedCategory(category === selectedCategory ? '' : category);\n    setSearchParams(_objectSpread(_objectSpread({}, searchParams), {}, {\n      positions: category === selectedCategory ? undefined : category,\n      page: 1\n    }));\n  };\n\n  const handleClick = async () => {\n    const splitPage = paginationData.meta.next_page_url.split('page=');\n    const page = splitPage[splitPage.length - 1];\n    setSearchParams(_objectSpread(_objectSpread({}, searchParams), {}, {\n      page\n    }));\n  };\n\n  React.useEffect(() => {\n    const runEffect = async () => {\n      const data = await getSpecialists(searchParams);\n      setSpecialists(data.data);\n      setPaginationData(data);\n    };\n\n    runEffect();\n  }, [searchParams]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'wrapper',\n    children: [!useMq.isXS && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'left-side',\n      children: /*#__PURE__*/_jsxDEV(SideBlock, {\n        name: 'Категории',\n        children: /*#__PURE__*/_jsxDEV(SpecialistCategoriesMenuList, {\n          onClick: handleSelect,\n          items: categories.map(item => ({\n            name: item.position,\n            count: item.count,\n            isActive: item.position === selectedCategory\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: clsx('content', 'd-block'),\n      style: {\n        alignItems: 'normal'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.header,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u0421\\u043F\\u0435\\u0446\\u0438\\u0430\\u043B\\u0438\\u0441\\u0442\\u044B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0418\\u0422 \\u0441\\u043F\\u0435\\u0446\\u0438\\u0430\\u043B\\u0438\\u0441\\u0442\\u043E\\u0432 \\u0418\\u043D\\u0433\\u0443\\u0448\\u0435\\u0442\\u0438\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [specialists === null || specialists === void 0 ? void 0 : specialists.map((spec, idx) => /*#__PURE__*/_jsxDEV(UserMiniCard, {\n          avatar: spec.avatar,\n          nickname: spec.name,\n          profession: (spec === null || spec === void 0 ? void 0 : spec.position) || 'Описание отсутсвует',\n          status: spec.description,\n          readyForWork: spec.ready_for_work,\n          links: [{\n            key: 'facebook',\n            value: 'https://facebook.com'\n          }],\n          id: spec.id\n        }, `${spec.id}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 55\n        }, this)), paginationData.meta.next_page_url && /*#__PURE__*/_jsxDEV(LoadMore, {\n          onClick: handleClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 59\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'right-side'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};","map":{"version":3,"sources":["C:/Projects/projects/frontend/components/pages/SpecialistPage/index.tsx"],"names":["styles","UserMiniCard","LoadMore","SideBlock","React","SpecialistCategoriesMenuList","getSpecialists","useAllMQ","clsx","SpecialistPageComponent","initialSpecialistData","categories","specialists","setSpecialists","useState","data","paginationData","setPaginationData","selectedCategory","setSelectedCategory","searchParams","setSearchParams","is_specialist","useMq","handleSelect","category","positions","undefined","page","handleClick","splitPage","meta","next_page_url","split","length","useEffect","runEffect","isXS","map","item","name","position","count","isActive","alignItems","header","spec","idx","avatar","description","ready_for_work","key","value","id"],"mappings":"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","sourcesContent":["import styles from './SpecialistPage.module.scss'\r\nimport UserCard from \"../../UserCard\";\r\nimport UserMiniCard from \"../../UserMiniCard\";\r\nimport {LoadMore} from \"../../LoadMore\";\r\nimport {SideBlock} from \"../../SideBlock\";\r\nimport {MenuList} from \"../../MenuList\";\r\nimport React from \"react\";\r\nimport {SpecialistCategoriesMenuList} from \"../../SpecialistCategoriesMenuList\";\r\nimport {Pagination, SpecialistCategory, User} from \"../../../interfaces\";\r\nimport {getSpecialists} from \"../../../services/api/SpecialistsApi\";\r\nimport {useAllMQ} from \"../../../utils/useAllMQ\";\r\nimport clsx from \"clsx\";\r\n\r\ntype Props = {\r\n    categories: SpecialistCategory[],\r\n    initialSpecialistData: Pagination<User>\r\n}\r\nexport const SpecialistPageComponent = ({ initialSpecialistData, categories }: Props) => {\r\n    const [specialists, setSpecialists] = React.useState<User[]>(initialSpecialistData.data as User[]);\r\n    const [paginationData, setPaginationData] = React.useState(initialSpecialistData);\r\n    const [selectedCategory, setSelectedCategory] = React.useState('');\r\n    const [searchParams, setSearchParams] = React.useState<{}>({is_specialist: true});\r\n\r\n    const useMq = useAllMQ();\r\n\r\n    const handleSelect = async (category: string) => {\r\n        setSelectedCategory(category === selectedCategory ? '' : category)\r\n        setSearchParams({...searchParams, positions: category === selectedCategory ? undefined : category, page: 1})\r\n    }\r\n\r\n    const handleClick = async () => {\r\n        const splitPage = paginationData.meta.next_page_url.split('page=')\r\n        const page = splitPage[splitPage.length - 1];\r\n\r\n        setSearchParams({...searchParams, page})\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        const runEffect = async () => {\r\n            const data = await getSpecialists(searchParams);\r\n\r\n            setSpecialists(data.data);\r\n            setPaginationData(data);\r\n        }\r\n\r\n        runEffect();\r\n\r\n    }, [searchParams])\r\n\r\n    return (\r\n        <div className={'wrapper'}>\r\n            {!useMq.isXS && (\r\n                <div className={'left-side'}>\r\n                    <SideBlock name={'Категории'}>\r\n                        <SpecialistCategoriesMenuList\r\n                            onClick={handleSelect}\r\n                            items={categories.map(item => ({\r\n                                name: item.position,\r\n                                count: item.count,\r\n                                isActive: item.position === selectedCategory\r\n                            }))}\r\n                        />\r\n                    </SideBlock>\r\n                </div>\r\n            )}\r\n            <div className={clsx('content', 'd-block')} style={{alignItems: 'normal'}}>\r\n                <div className={styles.header}>\r\n                    <h1>Специалисты</h1>\r\n                    <span>Список ИТ специалистов Ингушетии</span>\r\n                </div>\r\n\r\n                <div>\r\n                    {specialists?.map((spec, idx) =>  <UserMiniCard\r\n                        avatar={spec.avatar}\r\n                        key={`${spec.id}`}\r\n                        nickname={spec.name}\r\n                        profession={spec?.position || 'Описание отсутсвует'}\r\n                        status={spec.description}\r\n                        readyForWork={spec.ready_for_work}\r\n                        links={[{key: 'facebook', value: 'https://facebook.com'}]}\r\n                        id={spec.id}\r\n                    />)}\r\n\r\n                    {paginationData.meta.next_page_url && <LoadMore onClick={handleClick} />}\r\n                </div>\r\n            </div>\r\n\r\n            <div className={'right-side'}></div>\r\n\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}