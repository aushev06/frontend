{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"C:/Projects/projects/frontend/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Projects/projects/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"C:/Projects/projects/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Projects\\\\projects\\\\frontend\\\\components\\\\SearchPopup\\\\Item.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Collapse from '@material-ui/core/Collapse';\nimport styles from './SearchPopup.module.scss';\nimport { Divider } from '@material-ui/core';\nimport Link from 'next/link';\nimport { useRouter } from \"next/router\";\n\nvar Item = function Item(p) {\n  _s();\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      open = _React$useState2[0],\n      setOpen = _React$useState2[1];\n\n  var router = useRouter();\n  useEffect(function () {\n    if (p.title === 'Авторы' || p.title === 'Публикации') {\n      setOpen(true);\n    }\n  }, []);\n\n  var handleClick = function handleClick() {\n    setOpen(!open);\n  };\n\n  if (p.title === 'Авторы' && p.data.length > 0) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: handleClick,\n        className: styles.searchTitleInner,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.searchTitle,\n          children: [p.title, \" (\", p.data.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, _this), p.data.length > 3 && /*#__PURE__*/_jsxDEV(\"a\", {\n          className: styles.showAll,\n          onClick: function onClick(e) {\n            return e.stopPropagation();\n          },\n          children: \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C \\u0432\\u0441\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Divider, {\n        classes: {\n          root: styles.divider\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Collapse, {\n        \"in\": open,\n        timeout: \"auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.searchItems,\n          children: p.data.slice(0, 3).map(function (el, key) {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return router.replace(el.link);\n\n                      case 2:\n                        p.onClose();\n\n                      case 3:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              })),\n              className: styles.searchItem,\n              children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                className: \"mr-10\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: el.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 17\n              }, _this)]\n            }, \"\".concat(p.title, \"-\").concat(key), true, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 15\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true);\n  }\n\n  if (p.title !== 'Авторы' && p.data.length > 0) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: handleClick,\n        className: styles.searchTitleInner,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.searchTitle,\n          children: [p.title, \" (\", p.data.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, _this), p.data.length > 3 && /*#__PURE__*/_jsxDEV(\"a\", {\n          className: styles.showAll,\n          onClick: function onClick(e) {\n            return e.stopPropagation();\n          },\n          children: \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C \\u0432\\u0441\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Divider, {\n        classes: {\n          root: styles.divider\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Collapse, {\n        \"in\": open,\n        timeout: \"auto\",\n        disableStrictModeCompat: true,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.searchItems,\n          children: p.data.slice(0, 3).map(function (el, key) {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.searchItem,\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                href: el.link,\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  onClick: function onClick() {\n                    return p.onClose();\n                  },\n                  children: el.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, _this)\n            }, \"\".concat(p.title, \"-\").concat(key), false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true);\n  }\n\n  return null;\n};\n\n_s(Item, \"yV6DxSubyy4ZmDiTQIQFSXuuW1o=\", false, function () {\n  return [useRouter];\n});\n\n_c = Item;\nexport default Item;\n\nvar _c;\n\n$RefreshReg$(_c, \"Item\");","map":{"version":3,"sources":["C:/Projects/projects/frontend/components/SearchPopup/Item.tsx"],"names":["React","useEffect","Avatar","Collapse","styles","Divider","Link","useRouter","Item","p","useState","open","setOpen","router","title","handleClick","data","length","searchTitleInner","searchTitle","showAll","e","stopPropagation","root","divider","searchItems","slice","map","el","key","replace","link","onClose","searchItem","name"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport styles from './SearchPopup.module.scss';\r\nimport { Divider } from '@material-ui/core';\r\nimport Link from 'next/link'\r\nimport {useRouter} from \"next/router\";\r\n\r\ninterface ItemProps {\r\n  title: string;\r\n  data: Array<{\r\n      name: string;\r\n      link: string;\r\n      id: number | string;\r\n  }>;\r\n  onClose: () => void\r\n}\r\n\r\nconst Item: React.FC<ItemProps> = (p) => {\r\n  const [open, setOpen] = React.useState(false);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (p.title === 'Авторы' || p.title === 'Публикации') {\r\n      setOpen(true);\r\n    }\r\n  }, []);\r\n\r\n  const handleClick = () => {\r\n    setOpen(!open);\r\n  };\r\n\r\n  if (p.title === 'Авторы' && p.data.length > 0) {\r\n    return (\r\n      <>\r\n        <div onClick={handleClick} className={styles.searchTitleInner}>\r\n          <div className={styles.searchTitle}>\r\n            {p.title} ({p.data.length})\r\n          </div>\r\n          {p.data.length > 3 && (\r\n            <a className={styles.showAll} onClick={(e) => e.stopPropagation()}>\r\n              Показать все\r\n            </a>\r\n          )}\r\n          <div></div>\r\n        </div>\r\n        <Divider classes={{ root: styles.divider }} />\r\n        <Collapse in={open} timeout=\"auto\">\r\n          <div className={styles.searchItems}>\r\n            {p.data.slice(0, 3).map((el, key) => (\r\n              <div onClick={ async () => {\r\n                  await router.replace(el.link)\r\n                  p.onClose()\r\n              }} key={`${p.title}-${key}`} className={styles.searchItem}>\r\n                <Avatar className=\"mr-10\" />\r\n                <div>{el.name}</div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </Collapse>\r\n      </>\r\n    );\r\n  }\r\n\r\n  if (p.title !== 'Авторы' && p.data.length > 0) {\r\n    return (\r\n      <>\r\n        <div onClick={handleClick} className={styles.searchTitleInner}>\r\n          <div className={styles.searchTitle}>\r\n            {p.title} ({p.data.length})\r\n          </div>\r\n          {p.data.length > 3 && (\r\n            <a className={styles.showAll} onClick={(e) => e.stopPropagation()}>\r\n              Показать все\r\n            </a>\r\n          )}\r\n        </div>\r\n        <Divider classes={{ root: styles.divider }} />\r\n        <Collapse in={open} timeout=\"auto\" disableStrictModeCompat>\r\n          <div className={styles.searchItems}>\r\n            {p.data.slice(0, 3).map((el, key) => (\r\n              <div key={`${p.title}-${key}`} className={styles.searchItem}>\r\n                <Link href={el.link}>\r\n                    <a onClick={() => p.onClose()}>{el.name}</a>\r\n                </Link>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </Collapse>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default Item;\r\n"]},"metadata":{},"sourceType":"module"}